{
  "type": "application/json",
  "resource": {
    "onboarding": {
      "$contentActions": [
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "ebae4c12-74b5-45b8-bf34-534e57065b33",
                "type": "text/plain",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": false,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "2c4bc64e-1033-436d-96e1-6b2fd6152f32",
          "typeOfStateId": "state",
          "$connId": "con_3",
          "$id": "30d330d5-ba13-412d-83c3-58dfaf7a3d8d",
          "conditions": [
            {
              "source": "input",
              "comparison": "equals",
              "values": [
                "testedominio"
              ]
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "27edf161-392d-4c32-a300-6401da4e635c",
          "typeOfStateId": "state",
          "$connId": "con_8",
          "$id": "11aa1ecf-1059-43c1-9e42-4381e695da96",
          "conditions": [
            {
              "source": "context",
              "comparison": "exists",
              "values": [],
              "variable": "input.content@ator"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "welcome",
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ],
          "$id": "8dd22bbc-537a-4a87-a4cb-8910cf959344",
          "$connId": "con_13",
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "b60bb3d6-1b9c-4e3a-ae7f-a272517bf44b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Extrai origem do contato",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(contactIdentity){\n    var source = contactIdentity.split('@')[1];\n    switch(source){\n        case 'wa.gw.msging.net':\n            return \"Whatsapp\";\n        case '0mn.io':\n            return \"Site\";\n        case 'messenger.gw.msging.net':\n            return \"Facebook\";\n        case 'instagram.gw.msging.net':\n            return \"Instagram\";\n        case 'skype.gw.msging.net':\n            return \"Skype\";\n        case 'telegram.gw.msging.net':\n            return \"Telegram\";\n        case 'abs.gw.msging.net':\n            return \"MS Teams\";\n        default:\n            return \"Other\";\n    }\n}\n",
            "inputVariables": [
              "contact.identity"
            ],
            "outputVariable": "platform",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "5b77bfff-4dc6-48bf-a7b4-e1f0d6de7034",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Extrai o telefone do contato",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(contact, platform){\n    contact = JSON.parse(contact);\n    var telefone = \"\";\n\n    // Tenta extrair o telefone se a origem for \"Whatsapp\"\n    if(platform == \"Whatsapp\"){\n        var telefone = contact.identity.split('@', 1)[0]; //retira o nº da string\n    }\n    // Tenta extrair o telefone já informado, ou porque a origem é \"Site\" e ele foi passado na instanciação javascript\n    // do Blip Chat Widget, ou porque ele foi definido no contato em uma passagem anterior no fluxo pelo usuário\n    else if(contact.phoneNumber){\n        var telefone = contact.phoneNumber;\n    }\n    \n    if(telefone){\n        var tam_tel = telefone.length;\n        // Celular completo (DDI, DDD e '9')\n        if(tam_tel == 13){\n            var ddi = telefone.slice(0, 2);\n            var ddd = telefone.slice(2, 4);\n            var num = telefone.slice(4);\n\n            telefone = ddd+num;\n        }\n        // Celular incompleto (DDI, DDD e faltando '9') ou Fixo completo (DDI e DDD)\n        else if(tam_tel == 12){\n            var ddi = telefone.slice(0, 2);\n            var ddd = telefone.slice(2, 4);\n            var num = telefone.slice(4);\n            var movel = ((num[0] <= 9) && (num[0] >= 6));\n\n            telefone = (movel) ? ddd+'9'+num : ddd+num;\n        }\n        // Celular incompleto (DDD e '9', mas falta o DDI)\n        else if(tam_tel == 11){\n            telefone = telefone;\n        }\n        // Celular incompleto (DDD, sem o '9' e sem DDI) ou Fixo incompleto (só DDD)\n        else if(tam_tel == 10){\n            var ddd = telefone.slice(0, 2);\n            var num = telefone.slice(2);\n            var movel = ((num[0] <= 9) && (num[0] >= 6));\n\n            telefone = (movel) ? ddd+'9'+num : ddd+num;\n        }\n    }\n\n    return telefone; //tel sem DDI\n}",
            "inputVariables": [
              "contact.serialized",
              "platform"
            ],
            "outputVariable": "cellphone",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "f91d897b-320f-492b-b56f-17436a3090c0",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Extrai Contact(User) ID",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(contactIdentity){\n    return contactIdentity.split('@', 1)[0];\n}",
            "inputVariables": [
              "contact.identity"
            ],
            "outputVariable": "userID",
            "LocalTimeZoneEnabled": false
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "platform",
              "values": [
                "Instagram"
              ]
            }
          ]
        },
        {
          "$id": "711289bb-adcf-4a79-af0b-b1dbfc53e0e0",
          "$typeOfContent": "",
          "type": "ProcessHttp",
          "$title": "Busca o nome do usuário no Whatsapp",
          "$invalid": false,
          "settings": {
            "headers": {
              "Authorization": "{{resource.globalConfig@botRouterToken}}"
            },
            "method": "POST",
            "body": "{\n    \"id\": \"{{$guid}}\",\n    \"to\": \"postmaster@wa.gw.msging.net\",\n    \"method\": \"get\", \n    \"uri\": \"lime://wa.gw.msging.net/accounts/+55{{cellphone}}\"\n}",
            "uri": "{{resource.blipApi@commandsUrl}}",
            "responseStatusVariable": "statusCode",
            "responseBodyVariable": "response"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "platform",
              "values": [
                "Whatsapp"
              ]
            }
          ]
        },
        {
          "$id": "6f4c8d9e-73dc-46bb-a250-0fb5823495d9",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define o nome do usuário Whatsapp",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(statusCode, response){\n    if(statusCode != 200){\n        return '';\n    }\n\n    response = JSON.parse(response);\n\n    return (response.resource && response.resource.fullName) ? response.resource.fullName : '';\n}",
            "inputVariables": [
              "statusCode",
              "response"
            ],
            "outputVariable": "userName",
            "LocalTimeZoneEnabled": false
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "platform",
              "values": [
                "Whatsapp"
              ]
            }
          ]
        },
        {
          "$id": "6df6b435-beef-41b5-bab2-44a0dbd7b650",
          "$typeOfContent": "",
          "type": "ProcessHttp",
          "$title": "Busca o nome do usuário no Instagram",
          "$invalid": false,
          "settings": {
            "headers": {},
            "method": "GET",
            "uri": "https://graph.facebook.com/v3.2/{{userID}}?access_token={{resource.globalConfig@tokenInsta}}",
            "responseStatusVariable": "statusCode",
            "responseBodyVariable": "response"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "platform",
              "values": [
                "Instagram"
              ]
            }
          ]
        },
        {
          "$id": "6a21d3ab-3140-45f8-a290-c3154d081a47",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define o nome do usuário Instagram",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(statusCode, response) {\n    if (statusCode != 200){\n        return '';\n    }\n\n    response = JSON.parse(response);\n\n    return (response.name) ? response.name : '';\n}",
            "inputVariables": [
              "statusCode",
              "response"
            ],
            "outputVariable": "userName",
            "LocalTimeZoneEnabled": false
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "platform",
              "values": [
                "Instagram"
              ]
            }
          ]
        },
        {
          "$id": "cb6c6887-0670-40f5-9f63-1a8b98803692",
          "$typeOfContent": "",
          "type": "SetVariable",
          "$title": "Definir variável mensagemAtendimento",
          "$invalid": false,
          "settings": {
            "variable": "mensagemAtendimento",
            "value": ""
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-7889acac-a217-4710-900e-775681bb4c75",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-6ba9377c-d11a-4ab7-b44d-a0332478f251",
          "label": "ProcessHttp",
          "background": "#7762E3",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-baa3075d-5dd8-4870-8900-a4b050d234be",
          "label": "SetVariable",
          "background": "#FF4A1E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-2278e5c2-7e01-451a-bde3-b893568e52e6",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "onboarding",
      "root": true,
      "$title": "Início",
      "$position": {
        "top": "164px",
        "left": "4395px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "fallback": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "e1b8c657-e66d-407d-99a7-7b1c9ba66b3c",
                "type": "text/plain",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "bbd84bc1-d88c-4832-a0b9-4ec3f623f686",
          "$connId": "con_18",
          "$id": "378ebc06-4631-4171-a54c-1f0698d1f854",
          "conditions": [
            {
              "source": "input",
              "comparison": "matches",
              "values": [
                ".*"
              ]
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "db0f0257-b21c-4a73-89b5-fbbb448ff01e",
          "$typeOfContent": "",
          "type": "SetVariable",
          "$title": "Definir variável (lastStateIDInFlow)",
          "$invalid": false,
          "settings": {
            "variable": "lastStateIDInFlow",
            "value": "{{state.previous.id}}"
          },
          "conditions": []
        },
        {
          "$id": "ce1a237a-7adb-4533-a704-d831398a672a",
          "$typeOfContent": "",
          "type": "SetVariable",
          "$title": "Definir variável (lastStateNameInFlow)",
          "$invalid": false,
          "settings": {
            "variable": "lastStateNameInFlow",
            "value": "{{state.previous.name}}"
          },
          "conditions": []
        },
        {
          "$id": "bdc8fd49-4721-45b8-9693-f439486b42ce",
          "$typeOfContent": "",
          "type": "SetVariable",
          "$title": "Definir variável (botOrigin)",
          "$invalid": false,
          "settings": {
            "variable": "botOrigin",
            "value": "{{application.identity}}"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-69bfa1fb-b4f3-4746-890c-a86de6813592",
          "label": "SetVariable",
          "background": "#FF4A1E",
          "canChangeBackground": false
        }
      ],
      "id": "fallback",
      "$title": "Exceções",
      "$position": {
        "top": "30px",
        "left": "5666px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "welcome": {
      "$contentActions": [
        {
          "action": {
            "$id": "2fdce818-2585-45b8-9fb2-123948b760b1",
            "$typeOfContent": "",
            "type": "SendMessage",
            "settings": {
              "id": "00000000-0000-0000-0000-000000000000",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "00000000-0000-0000-0000-000000000000",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left",
              "editing": false
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "86dbba4a-09c6-4a66-b1e0-4f5a4249e762",
            "$typeOfContent": "",
            "type": "SendMessage",
            "settings": {
              "id": "00000000-0000-0000-0000-000000000001",
              "type": "text/plain",
              "content": "{{greetings}}",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "00000000-0000-0000-0000-000000000001",
                "type": "text/plain",
                "content": "{{greetings}}"
              },
              "editable": true,
              "deletable": true,
              "position": "left",
              "editing": false
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "3323024a-647c-4de9-bd02-5c2175e52bfd",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "0838b876-2ccc-4fd6-8c99-6d0df37e8bc1",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "0838b876-2ccc-4fd6-8c99-6d0df37e8bc1",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "287f6c09-1a0c-4a35-ae09-ac26b5be7a49",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "f664a711-ba2b-4472-865b-dc6bac3c69fe",
              "type": "text/plain",
              "content": "Para sua segurança, informamos que a Unipac, utiliza dados pessoais em conformidade com a Lei Geral de Proteção de Dados Pessoais (LGPD) Lei No13.709/18. ​\n​\nNotificamos também que a Unipac não se responsabiliza pelo vazamento de dados a partir do aparelho utilizado por vossa senhoria para contato.​\n​\nAo prosseguir, você está de acordo com a troca de mensagens por esse canal, isentando a Unipac.​\n\nhttps://compliance.grupojacto.com.br/politica-de-privacidade",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "f664a711-ba2b-4472-865b-dc6bac3c69fe",
                "type": "text/plain",
                "content": "Para sua segurança, informamos que a Unipac, utiliza dados pessoais em conformidade com a Lei Geral de Proteção de Dados Pessoais (LGPD) Lei No13.709/18. ​\n​\nNotificamos também que a Unipac não se responsabiliza pelo vazamento de dados a partir do aparelho utilizado por vossa senhoria para contato.​\n​\nAo prosseguir, você está de acordo com a troca de mensagens por esse canal, isentando a Unipac.​\n\nhttps://compliance.grupojacto.com.br/politica-de-privacidade"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "a6d544ef-83eb-4ba8-81be-0c54e06992d2",
                "type": "text/plain",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "a42a20ec-a31e-4700-bf35-42e925c96a96",
          "typeOfStateId": "state",
          "$connId": "con_23",
          "$id": "0015984c-60dd-44c6-87d0-e3931cea608d",
          "conditions": [
            {
              "source": "context",
              "comparison": "notExists",
              "values": [],
              "variable": "contact.name"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "cfc132a6-0552-40b9-a779-f0dfe9a49b96",
          "typeOfStateId": "state",
          "$connId": "con_28",
          "$id": "9059b6d9-87be-4ca8-aa00-20b930912ad5",
          "conditions": [
            {
              "source": "context",
              "comparison": "exists",
              "values": [],
              "variable": "contact.name"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "36892f20-82b3-43a7-9836-820f791ea70a",
          "$typeOfContent": "",
          "type": "MergeContact",
          "$title": "Definir contato (Origem e Fone)",
          "$invalid": false,
          "settings": {
            "extras": {
              "Origem": "{{platform}}"
            },
            "phoneNumber": "{{cellphone}}"
          },
          "conditions": []
        },
        {
          "$id": "8bad17bc-8de2-4ab3-aa5e-6d12fab59d5f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define texto greetings",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(username, hour, usuarioRecorrente){\n    var greetings = 'Boa noite';\n    if((hour >= 3) && (hour < 15)){ //horario GMT (BR Time é -3 GMT)\n        greetings = 'Bom dia';\n    }\n    else if((hour >= 15) && (hour < 21)){ //horario GMT (BR Time é -3 GMT)\n        greetings = 'Boa tarde';\n    }\n    greetings += (username) ? `, ${username}, ` : `, `;\n\n    // Texto complementar\n    if(usuarioRecorrente == 'true'){\n        greetings += 'seja bem vindo(a) de volta a Unipac!!! \\nÉ um prazer recebermos seu contato, estamos  aqui para ajudar!';\n    }\n    else{\n        greetings +=  'seja bem vindo(a) a Unipac!!! \\nÉ um prazer recebermos seu contato, estamos aqui para ajudar!';\n    }\n\n    return greetings;\n}",
            "inputVariables": [
              "contact.name",
              "calendar.hour",
              "contact.extras.LGPD"
            ],
            "outputVariable": "greetings",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-7bc97d74-1eb1-499c-a8ba-499d9f0f422f",
          "label": "MergeContact",
          "background": "#FF1E90",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-1511079b-289a-4ef4-a730-74fcaf61e7ab",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-714fbcc4-a611-4344-a713-c5857e9ee192",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "welcome",
      "$title": "1.0 - Boas vindas",
      "$position": {
        "top": "469.143px",
        "left": "4520.71px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "bbd84bc1-d88c-4832-a0b9-4ec3f623f686": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "e0b1b7f8-d616-44b5-94fd-3694635cc161",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "f9885a61-5f36-4218-aeb9-14ffff2eab02",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona a Exceptions",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"content\": \"{{input.content}}\",\n    \"type\": \"{{input.type}}\"\n}"
            },
            "address": "{{resource.globalConfig@serviceExceptions}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false
      },
      "$tags": [
        {
          "background": "#2cc3d5",
          "label": "RedirectTo",
          "id": "blip-tag-8cdf16cc-9155-df12-51ac-105a193ffda6",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-95ef767c-2900-4230-8868-68c04a0c4476",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        }
      ],
      "id": "bbd84bc1-d88c-4832-a0b9-4ec3f623f686",
      "root": false,
      "$title": "E.1.0 - To Sub bot Exceptions",
      "$position": {
        "top": "19px",
        "left": "5903px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "cfc132a6-0552-40b9-a779-f0dfe9a49b96": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false,
          "$$hashKey": "object:1038"
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{mainMenu@type}}",
              "rawContent": "{{mainMenuContent}}"
            }
          },
          "$invalid": false,
          "$$hashKey": "object:1039"
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false,
          "$$hashKey": "object:1040"
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "cf021a16-2efc-419d-9844-d6f7506abc23",
          "typeOfStateId": "state",
          "$connId": "con_33",
          "$id": "e2526395-4b16-4614-ae4d-f1265f1d39f9",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Comercial"
              ],
              "variable": "inputInfo@value",
              "$$hashKey": "object:1070"
            }
          ],
          "$invalid": false,
          "$$hashKey": "object:1048"
        },
        {
          "stateId": "64281ea9-acc3-446d-bf00-b2910a3a9f9c",
          "typeOfStateId": "state",
          "$connId": "con_38",
          "$id": "05cade38-8e06-45ca-9770-69870fdef57c",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Financeiro"
              ],
              "variable": "inputInfo@value",
              "$$hashKey": "object:1088"
            }
          ],
          "$invalid": false,
          "$$hashKey": "object:1049"
        },
        {
          "stateId": "dab24e0f-2995-4667-a96c-4a3cb0ac541e",
          "typeOfStateId": "state",
          "$connId": "con_43",
          "$id": "464c0141-8d33-44ae-a01d-161fc1c287c5",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Envio de Currículo"
              ],
              "variable": "inputInfo@value",
              "$$hashKey": "object:1106"
            }
          ],
          "$invalid": false,
          "$$hashKey": "object:1050"
        },
        {
          "stateId": "4f8ca191-8516-457a-8bdf-bbd26ecf9d21",
          "typeOfStateId": "state",
          "$connId": "con_48",
          "$id": "6223eaa1-03ba-4435-b55b-e2d4cb6c0cd7",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Sugestões/Reclamações"
              ],
              "variable": "inputInfo@value",
              "$$hashKey": "object:1122"
            }
          ],
          "$invalid": false,
          "$$hashKey": "object:1051"
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Main Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform, nome){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    `${nome}, por gentileza com qual área deseja falar? `+\n    \"\\nLembre-se de que, a qualquer momento, você <b>pode usar</b> os comandos <b>#menu</b> ou <b>#sair</b>.\";\n    var opcoes = [\n        {\n            \"value\": \"Comercial\",\n            \"match\": ['comerci'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Financeiro\",\n            \"match\": ['financ'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Envio de Currículo\",\n            \"match\": ['envi', 'curricu'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Sugestões/Reclamações\",\n            \"match\": ['sugest', 'reclama'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform",
              "contact.name"
            ],
            "outputVariable": "mainMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "mainMenu"
            ],
            "outputVariable": "mainMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "mainMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-dd925aaf-3126-477d-92de-2bf3c3be7baf",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-a349f974-5c22-45fd-831e-1d2b987bf9d8",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-53512060-cb2d-4acd-b0a0-0cc634f41b00",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-96e97d3c-338d-4cac-81b1-c52f76d675f9",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "cfc132a6-0552-40b9-a779-f0dfe9a49b96",
      "root": false,
      "$title": "Menu Principal V2",
      "$position": {
        "top": "947px",
        "left": "4380px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "27edf161-392d-4c32-a300-6401da4e635c": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "a6429245-1da2-43f1-8f97-958e4ab89f73",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "{{lastStateIDInFlow}}",
          "typeOfStateId": "variable",
          "$id": "c064029a-7d9c-4394-8732-4e5d64f22d4e",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "anterior"
              ],
              "variable": "input.content@estado"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "cfc132a6-0552-40b9-a779-f0dfe9a49b96",
          "typeOfStateId": "state",
          "$connId": "con_53",
          "$id": "462383a8-9471-4310-bd80-c5c4920d5472",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "menu"
              ],
              "variable": "input.content@estado"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "{{state.previous.id}}",
          "typeOfStateId": "variable",
          "$id": "989ca0fa-9ca5-48da-9c39-64f9266ebf46",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "inicio"
              ],
              "variable": "input.content@estado"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "background": "#1EA1FF",
          "label": "DirectTo",
          "id": "blip-tag-340a062f-f850-8e0b-70d4-f48dfb7b84be",
          "canChangeBackground": false
        }
      ],
      "id": "27edf161-392d-4c32-a300-6401da4e635c",
      "root": false,
      "$title": "Callback Exceptions",
      "$position": {
        "top": "458.286px",
        "left": "4271.14px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "ac68abf2-07b6-4a83-ad53-bd0104adcfc2": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "555c977b-0f07-48d1-a73a-3bdc7817999f",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "cfc132a6-0552-40b9-a779-f0dfe9a49b96",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "background": "#1EA1FF",
          "label": "DirectTo",
          "id": "blip-tag-340a062f-f850-8e0b-70d4-f48dfb7b84be",
          "canChangeBackground": false
        }
      ],
      "id": "ac68abf2-07b6-4a83-ad53-bd0104adcfc2",
      "root": false,
      "$title": "G.1.1 - Voltar ao menu principal",
      "$position": {
        "top": "278px",
        "left": "5641px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "6f3cc533-71e2-4630-9086-6d44699a2c7d": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Aguarde um momento enquanto transfiro você para um atendimento humano!\n\nAdorei falar com você! Até mais!",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Aguarde um momento enquanto transfiro você para um atendimento humano!\n\nAdorei falar com você! Até mais!"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": \"{{fila}}\"\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-999da541-5dd3-483d-8961-432776800209",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-228ce527-9cff-4e56-8cdc-1a6fe624f354",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "6f3cc533-71e2-4630-9086-6d44699a2c7d",
      "root": false,
      "$title": "G.1.2 - To Help Desk",
      "$position": {
        "top": "281px",
        "left": "5370.29px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "9be6024f-41ed-4ff4-b6db-ebf49045b5d5": {
      "$contentActions": [
        {
          "action": {
            "$id": "0bfc6de4-c31c-43c6-81d2-976574c991d0",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "92ced0b3-93db-45f0-997a-68f8f4d51ebc",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "92ced0b3-93db-45f0-997a-68f8f4d51ebc",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "b05410a0-c14f-4662-ac1e-059225ac2996",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "d6c90bed-df5b-4cb7-be9b-b51158f8e1d3",
              "type": "text/plain",
              "content": "A Unipac agradece seu contato.🍀\nCaso necessite de mais informações estamos a disposição para atendê-lo (a).",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "d6c90bed-df5b-4cb7-be9b-b51158f8e1d3",
                "type": "text/plain",
                "content": "A Unipac agradece seu contato.🍀\nCaso necessite de mais informações estamos a disposição para atendê-lo (a)."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "332879ab-f0a2-4f65-82be-98e005292ec6",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "81dea4d9-8787-41d7-a3a2-14a7ce1c07f4",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona a Exceptions",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"content\": \"#sair\",\n    \"type\": \"text/plain\"\n}"
            },
            "address": "{{resource.globalConfig@serviceExceptions}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-0f184e95-aaf0-4d49-bbd3-d3670445c390",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-4f1abdc2-cbce-402a-bedd-1be165da941d",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "9be6024f-41ed-4ff4-b6db-ebf49045b5d5",
      "root": false,
      "$title": "G.4.0 - Encerrar conversa",
      "$position": {
        "top": "397px",
        "left": "6191px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "888eff8f-9005-4099-96a0-4e5286a7eb01": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "9be6024f-41ed-4ff4-b6db-ebf49045b5d5",
          "typeOfStateId": "state",
          "$connId": "con_58",
          "$id": "57147087-8054-4d8e-aada-d8f2804e4819",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Não"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "ac68abf2-07b6-4a83-ad53-bd0104adcfc2",
          "typeOfStateId": "state",
          "$connId": "con_63",
          "$id": "b0fe3148-0761-4ef9-8038-be31c79b3547",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Voltar ao menu"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "b0ef22eb-7432-4c11-b7c6-ee3b471f7a44",
          "typeOfStateId": "state",
          "$connId": "con_68",
          "$id": "97df8598-ca3f-4bb3-a66b-3b64c33b01f4",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Sim"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto = \"Deseja avaliar nosso atendimento?\";\n    var opcoes = [\n        {\n            \"value\": \"Sim\",\n            \"match\": ['sim', 'pode', 'cert', 'claro'],\n            \"description\": \"Preciso de ajuda em outra coisa\"\n        },\n        {\n            \"value\": \"Não\",\n            \"match\": ['não', 'nenhum'],\n            \"description\": \"Não preciso de ajuda em mais nada\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpected_input, menu){\r\n    return get_input_info(inputContent, inputType, unexpected_input, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Seleção Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": []
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-409affdd-ffac-4410-ae3b-bc15a3d56296",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-fb98f485-b231-4b67-9e4f-06d0cc040be7",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-cbcc6cc9-2f3a-492f-8077-019b410bfc35",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-f92bede3-4cbe-4c8b-b1d0-f45871091ec3",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "888eff8f-9005-4099-96a0-4e5286a7eb01",
      "root": false,
      "$title": "G.1.0 - Ajudo em algo mais?",
      "$position": {
        "top": "277px",
        "left": "5894px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "b0ef22eb-7432-4c11-b7c6-ee3b471f7a44": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "9be6024f-41ed-4ff4-b6db-ebf49045b5d5",
          "typeOfStateId": "state",
          "$connId": "con_73",
          "$id": "2e7847e7-ee9f-4bcd-8577-63226fd0667d",
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": [],
              "variable": "inputInfo@value"
            },
            {
              "values": [
                "Input Inesperado"
              ],
              "source": "context",
              "comparison": "notEquals",
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e1b93e24-ace3-4a9f-b31f-05806e4b3cc5",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto = \"Qual a sua nota para o atendimento que acabou de receber?\";\n    var opcoes = [\n        {\n            \"value\": \"Excelente\",\n            \"match\": ['Excelente'],\n            \"description\": \"⭐⭐⭐⭐⭐\"\n        },\n        {\n            \"value\": \"Bom\",\n            \"match\": ['Bom'],\n            \"description\": \"⭐⭐⭐⭐\"\n        },\n        {\n            \"value\": \"Regular\",\n            \"match\": ['Regular'],\n            \"description\": \"⭐⭐⭐\"\n        },\n        {\n            \"value\": \"Ruim\",\n            \"match\": ['Ruim'],\n            \"description\": \"⭐⭐\"\n        },\n        {\n            \"value\": \"Péssimo\",\n            \"match\": ['Péssimo'],\n            \"description\": \"⭐\"\n        },\n        {\n            \"value\": \"Não quero responder\",\n            \"match\": ['nao', 'responder'],\n            \"description\": \"Não gostaria de responder a pesquisa\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpected_input, menu){\r\n    return get_input_info(inputContent, inputType, unexpected_input, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Seleção Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": []
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-a5ccb1e5-8bd0-483b-b991-5ec8c200891b",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-3a9d967d-05e5-4deb-b990-acee5e41ddff",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-e25ee7e8-1f71-44bf-be64-36bd1207b34c",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-aa5ecd0a-ae85-4391-8c1c-d9ce40a899c0",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "b0ef22eb-7432-4c11-b7c6-ee3b471f7a44",
      "root": false,
      "$title": "G.3.0 - NPS (Bot)",
      "$position": {
        "top": "181px",
        "left": "6190px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "a42a20ec-a31e-4700-bf35-42e925c96a96": {
      "$contentActions": [
        {
          "action": {
            "$id": "7116ae07-f706-4a5e-82db-e8ec484ce61b",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "b16de986-a144-4b8c-ae97-e70f7faab58c",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "b16de986-a144-4b8c-ae97-e70f7faab58c",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "038c96c2-926b-48cc-a792-1726215afd54",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "5418c024-ddfc-4dc9-8692-90f060bd63fb",
              "type": "text/plain",
              "content": "Para continuarmos, qual seu <b>nome</b>?",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "5418c024-ddfc-4dc9-8692-90f060bd63fb",
                "type": "text/plain",
                "content": "Para continuarmos, qual seu <b>nome</b>?"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "f616de70-89e5-45eb-bc92-976974a3a9e1",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "cfc132a6-0552-40b9-a779-f0dfe9a49b96",
          "typeOfStateId": "state",
          "$connId": "con_78",
          "$id": "08d5a0c0-8076-4a91-a8a5-3f7cba982235",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "true"
              ],
              "variable": "validateInput@validate"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "806f3588-be3f-429d-b69b-738751d19fb5",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "68cb5089-d248-4bd0-bf0d-427a953057bc",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Valida um formato de dado usando o common regex",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(input){\n    // ************************************************************************************************* //\n    // * tipos disponíveis:                                                                            * //\n    // * Command                                                                                       * //\n    // * CPF                                                                                           * //\n    // * CNPJ                                                                                          * //\n    // * Phone number                                                                                  * //\n    // * Email                                                                                         * //\n    // * Date BR                                                                                       * //\n    // * Date ISO                                                                                      * //\n    // * Name                                                                                          * //\n    // * Car plate                                                                                     * //\n    // *                                                                                               * //\n    // * Você pode encontrar mais tipos de regex em Coteúdos > Recursos > common_regex no bot roteador * //\n    // ************************************************************************************************* //\n    return common_regex('Name', input);\n}\n\n{{resource.commonRegex}}",
            "inputVariables": [
              "input.content"
            ],
            "outputVariable": "validateInput",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "95d2e8c3-0f90-4be7-8fc6-0ccae354120e",
          "$typeOfContent": "",
          "type": "MergeContact",
          "$title": "Definir contato (Nome)",
          "$invalid": false,
          "settings": {
            "extras": {},
            "name": "{{validateInput@normalizedInput}}"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "validateInput@validate",
              "values": [
                "true"
              ]
            }
          ]
        },
        {
          "$id": "effdd7d9-45b0-4457-bd34-f671606ae984",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Coleta de dados | Falha",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Coleta de dados | Falha",
            "action": "{{validateInput@expectedType}} | {{validateInput@input}}"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "validateInput@validate",
              "values": [
                "false"
              ]
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-3a7af95c-1da7-403e-931a-336231ad08dc",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-af24dea5-fdc5-4dd9-b48a-ffa29fa24920",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-b0b8a6ef-eecb-400f-be62-25a7dac9261e",
          "label": "MergeContact",
          "background": "#FF1E90",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-a8f78923-0573-439d-b8b8-1813b44c1bd6",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-f25dcc42-4bf8-4e12-ae8d-630341b27bb8",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "a42a20ec-a31e-4700-bf35-42e925c96a96",
      "root": false,
      "$title": "Pergunta o nome do usuário",
      "$position": {
        "top": "788.286px",
        "left": "4673.29px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "cf021a16-2efc-419d-9844-d6f7506abc23": {
      "$contentActions": [
        {
          "action": {
            "$id": "7116ae07-f706-4a5e-82db-e8ec484ce61b",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "b16de986-a144-4b8c-ae97-e70f7faab58c",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "b16de986-a144-4b8c-ae97-e70f7faab58c",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "038c96c2-926b-48cc-a792-1726215afd54",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "5418c024-ddfc-4dc9-8692-90f060bd63fb",
              "type": "text/plain",
              "content": "Favor informar seu CNPJ ou CPF ",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "5418c024-ddfc-4dc9-8692-90f060bd63fb",
                "type": "text/plain",
                "content": "Favor informar seu CNPJ ou CPF "
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "f616de70-89e5-45eb-bc92-976974a3a9e1",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "63586e6f-9792-4dbd-8778-da43e68c82cb",
          "typeOfStateId": "state",
          "$connId": "con_83",
          "$id": "27f9dfff-2926-4507-bdfb-b48b8dd2015c",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "true"
              ],
              "variable": "validateInput@validate"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "e1bc35cb-8d92-46d1-a888-8dc705a6453f",
          "typeOfStateId": "state",
          "$connId": "con_88",
          "$id": "408a6316-7332-414d-ba1f-031fb7e449bf",
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "values": [
                "true"
              ],
              "variable": "validateInput@validate"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "806f3588-be3f-429d-b69b-738751d19fb5",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "68cb5089-d248-4bd0-bf0d-427a953057bc",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Valida um formato de dado usando o common regex",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(input){\n    // ************************************************************************************************* //\n    // * tipos disponíveis:                                                                            * //\n    // * Command                                                                                       * //\n    // * CPF                                                                                           * //\n    // * CNPJ                                                                                          * //\n    // * Phone number                                                                                  * //\n    // * Email                                                                                         * //\n    // * Date BR                                                                                       * //\n    // * Date ISO                                                                                      * //\n    // * Name                                                                                          * //\n    // * Car plate                                                                                     * //\n    // *                                                                                               * //\n    // * Você pode encontrar mais tipos de regex em Coteúdos > Recursos > common_regex no bot roteador * //\n    // ************************************************************************************************* //\n    return common_regex('CPF/CNPJ', input);\n}\n\n{{resource.commonRegex}}",
            "inputVariables": [
              "input.content"
            ],
            "outputVariable": "validateInput",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "95d2e8c3-0f90-4be7-8fc6-0ccae354120e",
          "$typeOfContent": "",
          "type": "MergeContact",
          "$title": "Definir contato (CPF/CNPJ)",
          "$invalid": false,
          "settings": {
            "extras": {},
            "taxDocument": "{{validateInput@normalizedInput}}"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "validateInput@validate",
              "values": [
                "true"
              ]
            }
          ]
        },
        {
          "$id": "effdd7d9-45b0-4457-bd34-f671606ae984",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Coleta de dados | Falha",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Coleta de dados | Falha",
            "action": "{{validateInput@expectedType}} | {{validateInput@input}}"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "validateInput@validate",
              "values": [
                "false"
              ]
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-2336a184-ad53-442e-b46c-7e34ecb5c8ac",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-d2657601-8e40-4e1a-b3cd-297b22238b31",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-8b3562c4-a37f-4b73-8eef-3ce3baa26292",
          "label": "MergeContact",
          "background": "#FF1E90",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-a3f781aa-74f0-4a88-a71b-ddda839be699",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-8fed0a47-8671-4368-b07c-59be10410435",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "cf021a16-2efc-419d-9844-d6f7506abc23",
      "root": false,
      "$title": "Coleta CPF/CNPJ",
      "$position": {
        "top": "1674px",
        "left": "3554px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "63586e6f-9792-4dbd-8778-da43e68c82cb": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "2cc54f64-74c2-4f75-9b33-92cb996a40a0",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "8991a7e2-e110-4058-af3b-c339b49505d8",
          "typeOfStateId": "state",
          "$connId": "con_93",
          "$id": "ff71a18d-2d9f-4867-964d-b86f4753a177",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "CNPJ"
              ],
              "variable": "cliente"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "d9d7969e-dbae-4ccf-90ce-8272febf0597",
          "typeOfStateId": "state",
          "$connId": "con_98",
          "$id": "5b30ffee-61c5-43cb-99ea-d20eb9787c8e",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "CPF"
              ],
              "variable": "cliente"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "aa0cc77f-6815-42dc-9467-50f11e965e41",
          "typeOfStateId": "state",
          "$connId": "con_103",
          "$id": "a3484923-75d8-44bd-8c02-964aa434abae",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Falha"
              ],
              "variable": "cliente"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "cadf6c1e-b31b-459c-bf61-e8c6108f977a",
          "$typeOfContent": "",
          "type": "ProcessHttp",
          "$title": "Busca Contato",
          "$invalid": false,
          "settings": {
            "headers": {},
            "method": "POST",
            "uri": "{{resource.apiUnipac@url}}/api/contact",
            "responseStatusVariable": "statusCodeContato",
            "responseBodyVariable": "responseContato",
            "body": "{\n    \"idFiscal\":\"{{contact.taxDocument}}\"\n}"
          },
          "conditions": []
        },
        {
          "$id": "2277ec3d-f7f2-4876-905d-31bc6dbbde92",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Contabiliza requisição nome com sucesso",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Busca cliente",
            "action": "Sucesso"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "statusCodeContato",
              "values": [
                "200"
              ]
            }
          ]
        },
        {
          "$id": "521d3da9-57a8-4ad1-a6ad-bce54493dcdd",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Contabiliza requisição nome com falha",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Busca cliente",
            "action": "Falha"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "variable": "statusCodeContato",
              "values": [
                "200"
              ]
            }
          ]
        },
        {
          "$id": "cf208ef6-7a40-4898-9b5a-db816f56ccb2",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Verifica Contato",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(response){\n    try {\n        response = JSON.parse(response);\n        if (response.exception && response.exception.message && response.exception.message == \"Sucesso\") {\n            if (response.customer && response.customer.cpf) {\n                return \"CPF\";\n            }\n            else if (response.customer && response.customer.cnpj) {\n                return \"CNPJ\";\n            }\n        }\n        \n        return \"Falha\";\n    }\n    catch(e) {\n        return \"Falha\";\n    }\n}",
            "inputVariables": [
              "responseContato"
            ],
            "outputVariable": "cliente",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "dcc272a1-fd12-4b7e-8031-94204d1051ad",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Trata variáveis do contato",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(v){\n\tv = JSON.parse(v);\n    if(v['customer'] != undefined){\n        return v['customer']\n    }\n    return false\n}",
            "inputVariables": [
              "responseContato"
            ],
            "outputVariable": "infosContato",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "26ebcc12-74c3-4dc2-8b7a-a61c4890045e",
          "$typeOfContent": "",
          "type": "MergeContact",
          "$title": "Definir contato",
          "$invalid": false,
          "settings": {
            "extras": {
              "endereco": "{{infosContato@street}}, {{infosContato@houseNum}} - {{infosContato@district}}, {{infosContato@region}} - {{infosContato@country}}",
              "cnpj": "{{infosContato@cnpj}}",
              "nomeFantasia": "{{infosContato@name}}"
            },
            "email": "{{infosContato@email}}",
            "phoneNumber": "{{infosContato@telNumber}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-f6b27dfb-0c2a-4c03-8a47-b64208e8e039",
          "label": "ProcessHttp",
          "background": "#7762E3",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-64b1a04d-4386-42b7-92a0-7934e5999bcc",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-34ef1fdf-1686-47b9-8e92-ccd503c400d3",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-4c812139-5674-4b77-a872-0cc248c30373",
          "label": "MergeContact",
          "background": "#FF1E90",
          "canChangeBackground": false
        }
      ],
      "id": "63586e6f-9792-4dbd-8778-da43e68c82cb",
      "root": false,
      "$title": "Busca CPF/CNPJ",
      "$position": {
        "top": "1881px",
        "left": "3553.57px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "aa0cc77f-6815-42dc-9467-50f11e965e41": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [
        {
          "$id": "a7806dd8-3461-48d3-bfc4-422e006684a5",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define Mensagem Atendimento",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run() {\n\treturn \"Certo...verifiquei que você ainda não é um cliente, então vou te transferir para nosso time e em breve eles irão atendê-lo(a).\";\n}",
            "inputVariables": [],
            "outputVariable": "mensagemAtendimento",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"Geral\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-930ec86a-68b1-4ade-8314-77b5a6411f47",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-fd893011-47be-4c32-8f8f-9f9812352918",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        }
      ],
      "id": "aa0cc77f-6815-42dc-9467-50f11e965e41",
      "root": false,
      "$title": "To Help Desk [Geral]",
      "$position": {
        "top": "2068px",
        "left": "3554px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "d9d7969e-dbae-4ccf-90ce-8272febf0597": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "b690f84d-7b73-4779-b9e3-d15084e19f98",
          "typeOfStateId": "state",
          "$connId": "con_108",
          "$id": "440988be-0f81-4ef9-9eeb-1d5cf90e4447",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Voltar ao menu"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "42935471-1212-420d-8d5d-c10e142ad355",
          "typeOfStateId": "state",
          "$connId": "con_113",
          "$id": "bc05e82e-a33c-4a84-88fc-904cb424a2bc",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Outros"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "04bddbdf-7925-4d49-ba6c-0bf9ec57b2d4",
          "typeOfStateId": "state",
          "$connId": "con_118",
          "$id": "e7ebbc7c-1051-4812-afd4-faf4597f9963",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Logística"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Por favor, qual segmento deseja falar?\";\n    var opcoes = [\n        {\n            \"value\": \"Logística\",\n            \"match\": ['logis'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Outros\",\n            \"match\": ['outr'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Voltar ao menu\",\n            \"match\": ['volt', 'menu'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-9578d359-5c21-4374-9654-6cea32107f57",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-fa085ef8-8069-4cbd-9948-0f1a319aaf46",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-317b4ab6-423d-4ea3-821e-509a900645ac",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-2bd33fb6-30f7-409e-8b9e-fd728e64ac14",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "d9d7969e-dbae-4ccf-90ce-8272febf0597",
      "root": false,
      "$title": "CPF Cadastrado",
      "$position": {
        "top": "2008.67px",
        "left": "3934.33px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "04bddbdf-7925-4d49-ba6c-0bf9ec57b2d4": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "692a56cd-e954-403f-af8d-128740f99961",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "3bea9562-97bd-4032-8247-5c14f8177dba",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "isAiGenerated": false,
      "$tags": [],
      "id": "04bddbdf-7925-4d49-ba6c-0bf9ec57b2d4",
      "root": false,
      "$title": "CP 01",
      "$position": {
        "top": "2384.18px",
        "left": "3771.06px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "42935471-1212-420d-8d5d-c10e142ad355": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "692a56cd-e954-403f-af8d-128740f99961",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [
        {
          "$id": "8bb99ec9-6fc3-487b-b8a2-9bd08f793942",
          "$typeOfContent": "",
          "type": "SetVariable",
          "$title": "Definir variável filaLogistica",
          "$invalid": false,
          "settings": {
            "variable": "filaLogistica",
            "value": "Logística Outros"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "5cbd9b7b-1d1e-4a2e-ae9b-cff5121360ef",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "isAiGenerated": false,
      "$tags": [
        {
          "id": "blip-tag-de180270-ccae-4952-a6e4-8290ef6f952f",
          "label": "SetVariable",
          "background": "#FF4A1E",
          "canChangeBackground": false
        }
      ],
      "id": "42935471-1212-420d-8d5d-c10e142ad355",
      "root": false,
      "$title": "CP 02",
      "$position": {
        "top": "2372px",
        "left": "4101.21px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "b690f84d-7b73-4779-b9e3-d15084e19f98": {
      "$contentActions": [
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "b78bd19f-4dc9-4181-a4f7-2b28ff50e29e",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "isAiGenerated": false,
      "$tags": [
        {
          "background": "#1EA1FF",
          "label": "DirectTo",
          "id": "blip-tag-340a062f-f850-8e0b-70d4-f48dfb7b84be",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-efce6cc6-4940-4d15-acb5-4d8ef0ce2b33",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "b690f84d-7b73-4779-b9e3-d15084e19f98",
      "root": false,
      "$title": "Voltar ao menu",
      "$position": {
        "top": "2008.53px",
        "left": "4220.88px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "8991a7e2-e110-4058-af3b-c339b49505d8": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "562c7d23-c44e-453d-9f76-6b0fcd31813c",
          "typeOfStateId": "state",
          "$connId": "con_123",
          "$id": "0286abb1-fc89-4de8-a347-563fc8825069",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Automotivo"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "fc716601-653a-4c84-9a15-a7e52ddf9aee",
          "typeOfStateId": "state",
          "$connId": "con_128",
          "$id": "ab57ef97-f5de-4b1e-b976-93713911e7d4",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Agropecuário"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "1140247a-6271-4f00-91ba-bd02c1bed34d",
          "typeOfStateId": "state",
          "$connId": "con_133",
          "$id": "3f42246e-4bd7-4b23-b13e-68993b723059",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Logística"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "96156573-749c-4c3a-9167-1d3a630e98f9",
          "typeOfStateId": "state",
          "$connId": "con_138",
          "$id": "5262fd0c-721a-4391-97e5-894bad442edd",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Voltar ao menu"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "15882611-5da6-4997-85ef-50536aeb9e6d",
          "typeOfStateId": "state",
          "$connId": "con_143",
          "$id": "72e9d7b9-65dc-4c1c-afbf-328a072896dd",
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "values": [
                "Input Inesperado"
              ],
              "variable": "inputInfo@value"
            },
            {
              "values": [],
              "source": "input",
              "comparison": "exists"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Por favor, qual segmento deseja falar?\";\n    var opcoes = [\n        {\n            \"value\": \"Automotivo\",\n            \"match\": ['automo'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Agropecuário\",\n            \"match\": ['agropec'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Logística\",\n            \"match\": ['logisti'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Embalagens\",\n            \"match\": ['embalage'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Outros\",\n            \"match\": ['outr'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Voltar ao menu\",\n            \"match\": ['volt', 'menu'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-cd0be16c-cb3e-4d11-9856-dd080bb379bf",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-c20cfa6b-9672-4861-b3da-b9d8c3cea5c0",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-ba9ea9fe-1163-4fb5-b43d-4a1ce0ad87ce",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-184d6231-2da3-4288-9b30-b8e18508202f",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "8991a7e2-e110-4058-af3b-c339b49505d8",
      "root": false,
      "$title": "Menu CNPJ Encontrado",
      "$position": {
        "top": "2161.21px",
        "left": "3237px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "562c7d23-c44e-453d-9f76-6b0fcd31813c": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "679f36fd-ca49-441e-b775-08d2f64b5d12",
          "typeOfStateId": "state",
          "$connId": "con_148",
          "$id": "06024d55-7a59-4fb2-a2ff-ad2256972a77",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Cotação"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "d23d190b-9c65-4b5b-9c00-9db19a8aed7a",
          "typeOfStateId": "state",
          "$connId": "con_153",
          "$id": "5ebe5659-9d02-4211-95b4-f1f43613951c",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Catálogo"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "2edcf1f2-06c8-403d-9369-88a30ec7b785",
          "typeOfStateId": "state",
          "$connId": "con_158",
          "$id": "15d03a31-a9e1-4fed-b2de-63a44c119749",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Status Pedido",
                "Outros"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "{{state.previous.id}}",
          "typeOfStateId": "variable",
          "$id": "e196a6d5-c2ba-4a09-bc75-b08dcc8f6605",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Voltar ao menu"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Favor selecionar uma das opções:\";\n    var opcoes = [\n        {\n            \"value\": \"Cotação\",\n            \"match\": ['cota'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Catálogo\",\n            \"match\": ['catalo'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Status Pedido\",\n            \"match\": ['statu', 'pedi'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Outros\",\n            \"match\": ['outro'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Voltar ao menu\",\n            \"match\": ['volta', 'menu'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-e4174ca9-42d2-46b1-92ac-34458a5cb938",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-e96f666f-b29c-443f-9e73-8b80f8b7835e",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-dbeef7f6-c8cd-4aae-aace-d914ed346cca",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-e8526a17-87ba-4636-8c90-9677f6824af1",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "562c7d23-c44e-453d-9f76-6b0fcd31813c",
      "root": false,
      "$title": "Automotivo",
      "$position": {
        "top": "2044.43px",
        "left": "2853.86px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "679f36fd-ca49-441e-b775-08d2f64b5d12": {
      "$contentActions": [
        {
          "action": {
            "$id": "9118b572-1308-43bf-b584-262009483773",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "e470e67e-971f-4748-82d5-a269efea12d5",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "e470e67e-971f-4748-82d5-a269efea12d5",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "8f5ee8d6-57c9-4dc3-8e15-e88bc154ee2d",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "beeb3091-0774-4b6f-91ec-a6a5c44a1688",
              "type": "text/plain",
              "content": "Favor informar os itens que deseja cotação que em breve nosso time irá atendê-lo (a).\n\nOBS: Favor, informar em apenas uma única mensagem",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "beeb3091-0774-4b6f-91ec-a6a5c44a1688",
                "type": "text/plain",
                "content": "Favor informar os itens que deseja cotação que em breve nosso time irá atendê-lo (a).\n\nOBS: Favor, informar em apenas uma única mensagem"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "d14ec914-0281-4990-987b-d2994a97cbca",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "974523af-5326-4cba-b6e7-d4af19ded2ea",
          "typeOfStateId": "state",
          "$connId": "con_163",
          "$id": "374d74ba-e15f-4082-ad85-e4d13fcbcb1c",
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "isAiGenerated": false,
      "$tags": [
        {
          "id": "blip-tag-3f444b24-00d2-4af1-b6f6-90ee8c2ae38e",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-676f79b7-7cc7-4941-a7af-c78b33c4b87a",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "679f36fd-ca49-441e-b775-08d2f64b5d12",
      "root": false,
      "$title": "Cotação",
      "$position": {
        "top": "1788px",
        "left": "2583px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "d23d190b-9c65-4b5b-9c00-9db19a8aed7a": {
      "$contentActions": [
        {
          "action": {
            "$id": "0d4b31b2-56bc-44d5-9300-adbfa4c49c58",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "1959bd80-1c06-4f24-bbda-bc9b03a764da",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              },
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "1959bd80-1c06-4f24-bbda-bc9b03a764da",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "211c7382-3ed0-40c4-b3f0-f1ce160c6ec4",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "6d47b935-6e3d-4d0a-9585-4ae21b992ac9",
              "type": "text/plain",
              "content": "Segue nosso catálogo:",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "6d47b935-6e3d-4d0a-9585-4ae21b992ac9",
                "type": "text/plain",
                "content": "Segue nosso catálogo:"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "d4f127f5-0fa2-4995-836b-ec6cccde71de",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "7e15b6e4-814f-4fd9-8871-1dabbf0ec47d",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "7e15b6e4-814f-4fd9-8871-1dabbf0ec47d",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "5c76a0c2-437d-4b0c-a382-ebc3ead3236d",
            "$typeOfContent": "media-document",
            "type": "SendMessage",
            "settings": {
              "id": "63dee710-2992-433a-8058-a05074125e9d",
              "type": "application/vnd.lime.media-link+json",
              "content": {
                "title": "catálogo.pdf",
                "type": "application/pdf",
                "uri": "https://s3.amazonaws.com/2-unipac.com.br/files/Cat-Aut_PORT.pdf"
              },
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "63dee710-2992-433a-8058-a05074125e9d",
                "type": "application/vnd.lime.media-link+json",
                "content": {
                  "title": "catálogo.pdf",
                  "type": "application/pdf",
                  "uri": "https://s3.amazonaws.com/2-unipac.com.br/files/Cat-Aut_PORT.pdf"
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "4f33e006-89d2-483e-b8f8-08c3c6a73b07",
          "typeOfStateId": "state",
          "$connId": "con_168",
          "$id": "a8d1836a-fdda-40a1-8e0d-67a0af05e73a",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Encerrar"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "2edcf1f2-06c8-403d-9369-88a30ec7b785",
          "typeOfStateId": "state",
          "$connId": "con_173",
          "$id": "7e855b75-9182-4c9f-964d-a7ace5d46e0d",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Cotação/Dúvidas"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Caso precise de apoio estamos a disposição:\";\n    var opcoes = [\n        {\n            \"value\": \"Encerrar\",\n            \"match\": ['encerr'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Cotação/Dúvidas\",\n            \"match\": ['cota', 'duvid'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-cc58253f-23a2-4d39-bdcf-db2754503a56",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-a726d628-0e6f-43a2-ba75-e11ce3c0de17",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-8321fd8e-f98f-41f7-a497-b6672af516f0",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-a40f3727-857a-4ba7-a8ec-180d146f5735",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "d23d190b-9c65-4b5b-9c00-9db19a8aed7a",
      "root": false,
      "$title": "Catálogo",
      "$position": {
        "top": "2139px",
        "left": "1931px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "4f33e006-89d2-483e-b8f8-08c3c6a73b07": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "b52f7f96-e7de-482d-80cd-c5f4098544e9",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "888eff8f-9005-4099-96a0-4e5286a7eb01",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "isAiGenerated": false,
      "$tags": [],
      "id": "4f33e006-89d2-483e-b8f8-08c3c6a73b07",
      "root": false,
      "$title": "Encerrar",
      "$position": {
        "top": "2205px",
        "left": "1558px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "2edcf1f2-06c8-403d-9369-88a30ec7b785": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a).",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a)."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"Automotivo\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-0571877d-c358-4417-99b5-0c4c07cd1735",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-6c08d0ac-2ce8-48c0-b77b-8b29b71976dd",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "2edcf1f2-06c8-403d-9369-88a30ec7b785",
      "root": false,
      "$title": "To Help Desk [Automotivo]",
      "$position": {
        "top": "1914px",
        "left": "1929px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "3ce29dd7-2519-468c-a147-28627c31e8c8": {
      "$contentActions": [
        {
          "action": {
            "$id": "9118b572-1308-43bf-b584-262009483773",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "e470e67e-971f-4748-82d5-a269efea12d5",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "e470e67e-971f-4748-82d5-a269efea12d5",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "8f5ee8d6-57c9-4dc3-8e15-e88bc154ee2d",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "beeb3091-0774-4b6f-91ec-a6a5c44a1688",
              "type": "text/plain",
              "content": "Favor informar os itens que deseja cotação que em breve nosso time irá atendê-lo (a).\n\nOBS: Favor, informar em apenas uma única mensagem",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "beeb3091-0774-4b6f-91ec-a6a5c44a1688",
                "type": "text/plain",
                "content": "Favor informar os itens que deseja cotação que em breve nosso time irá atendê-lo (a).\n\nOBS: Favor, informar em apenas uma única mensagem"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "d14ec914-0281-4990-987b-d2994a97cbca",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "8c912413-4f52-4ddb-9c25-f54009b1abe9",
          "typeOfStateId": "state",
          "$connId": "con_178",
          "$id": "374d74ba-e15f-4082-ad85-e4d13fcbcb1c",
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "isAiGenerated": false,
      "$tags": [
        {
          "id": "blip-tag-a529d49f-cfc5-4e28-9159-0e02592882d9",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-d94a457e-5b06-4f9e-8d2e-9f0b38ce1350",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "3ce29dd7-2519-468c-a147-28627c31e8c8",
      "root": false,
      "$title": "Cotação [Agropecuário]",
      "$position": {
        "top": "2527.57px",
        "left": "2713.14px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "8c912413-4f52-4ddb-9c25-f54009b1abe9": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Favor informar os itens que deseja cotação que em breve nosso time irá atendê-lo (a)..",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Favor informar os itens que deseja cotação que em breve nosso time irá atendê-lo (a).."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"Agropecuário\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-cd70c470-fef2-40dc-a7e4-515570fab76b",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-1d4b4b45-384d-4ded-b7e7-abab72b5599e",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "8c912413-4f52-4ddb-9c25-f54009b1abe9",
      "root": false,
      "$title": "To Help Desk [Agropecuário]",
      "$position": {
        "top": "2843.5px",
        "left": "2516px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "79e3a552-061d-4125-82cf-c12b93cf22b3": {
      "$contentActions": [
        {
          "action": {
            "$id": "0d4b31b2-56bc-44d5-9300-adbfa4c49c58",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "1959bd80-1c06-4f24-bbda-bc9b03a764da",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "1959bd80-1c06-4f24-bbda-bc9b03a764da",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "211c7382-3ed0-40c4-b3f0-f1ce160c6ec4",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "6d47b935-6e3d-4d0a-9585-4ae21b992ac9",
              "type": "text/plain",
              "content": "Segue nosso catálogo:",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "6d47b935-6e3d-4d0a-9585-4ae21b992ac9",
                "type": "text/plain",
                "content": "Segue nosso catálogo:"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "dfceb7ab-b09a-4846-82f3-5559477b9bc3",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "c00af15b-dfd5-4758-b29d-2df87592d327",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "c00af15b-dfd5-4758-b29d-2df87592d327",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "fab32d67-4f7f-4a92-ac04-006fcf02e113",
            "$typeOfContent": "media-document",
            "type": "SendMessage",
            "settings": {
              "id": "c44dce9c-9dfc-4f5c-bed3-9b4e1c8e3ee5",
              "type": "application/vnd.lime.media-link+json",
              "content": {
                "title": "catálogo.pdf",
                "type": "application/pdf",
                "uri": "https://s3.amazonaws.com/2-unipac.com.br/files/Cat-Agro_PORT.pdf"
              },
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "c44dce9c-9dfc-4f5c-bed3-9b4e1c8e3ee5",
                "type": "application/vnd.lime.media-link+json",
                "content": {
                  "title": "catálogo.pdf",
                  "type": "application/pdf",
                  "uri": "https://s3.amazonaws.com/2-unipac.com.br/files/Cat-Agro_PORT.pdf"
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "307f8832-86e5-4a08-92e5-9ae9c4a3b704",
          "typeOfStateId": "state",
          "$connId": "con_183",
          "$id": "a8d1836a-fdda-40a1-8e0d-67a0af05e73a",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Encerrar"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "d32c9c0c-7baa-4034-a5ab-246959f2ceeb",
          "typeOfStateId": "state",
          "$connId": "con_188",
          "$id": "7e855b75-9182-4c9f-964d-a7ace5d46e0d",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Cotação/Dúvidas"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Caso precise de apoio estamos a disposição:\";\n    var opcoes = [\n        {\n            \"value\": \"Encerrar\",\n            \"match\": ['encerr'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Cotação/Dúvidas\",\n            \"match\": ['cota', 'duvid'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-9aabe732-85a3-4317-8c4d-3d3299db5c89",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-2aad04bb-ebc6-4560-afb6-5f419f477da8",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-e14790f7-f177-4d7a-819a-a1be3cd4126a",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-39550ac1-1cbe-41bf-92cf-6c1be573d41f",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "79e3a552-061d-4125-82cf-c12b93cf22b3",
      "root": false,
      "$title": "Catálogo [Agropecuário]",
      "$position": {
        "top": "2624px",
        "left": "2232.5px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "d32c9c0c-7baa-4034-a5ab-246959f2ceeb": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a).",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a)."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"Agropecuário\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-cc6bc892-ee46-4a3c-a66b-74c21c9d7b93",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-b5a37b67-3f2e-4ce4-8bbf-60423cbe0f3b",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "d32c9c0c-7baa-4034-a5ab-246959f2ceeb",
      "root": false,
      "$title": "To Help Desk [Agropecuário]",
      "$position": {
        "top": "2418px",
        "left": "2102px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "307f8832-86e5-4a08-92e5-9ae9c4a3b704": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "b52f7f96-e7de-482d-80cd-c5f4098544e9",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "888eff8f-9005-4099-96a0-4e5286a7eb01",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "isAiGenerated": false,
      "$tags": [],
      "id": "307f8832-86e5-4a08-92e5-9ae9c4a3b704",
      "root": false,
      "$title": "Encerrar [Agropecuário]",
      "$position": {
        "top": "2848px",
        "left": "2232.5px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "fc716601-653a-4c84-9a15-a7e52ddf9aee": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "3ce29dd7-2519-468c-a147-28627c31e8c8",
          "typeOfStateId": "state",
          "$connId": "con_193",
          "$id": "06024d55-7a59-4fb2-a2ff-ad2256972a77",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Cotação"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "79e3a552-061d-4125-82cf-c12b93cf22b3",
          "typeOfStateId": "state",
          "$connId": "con_198",
          "$id": "5ebe5659-9d02-4211-95b4-f1f43613951c",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Catálogo"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "d32c9c0c-7baa-4034-a5ab-246959f2ceeb",
          "typeOfStateId": "state",
          "$connId": "con_203",
          "$id": "15d03a31-a9e1-4fed-b2de-63a44c119749",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Status Pedido",
                "Outros"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "{{state.previous.id}}",
          "typeOfStateId": "variable",
          "$id": "e196a6d5-c2ba-4a09-bc75-b08dcc8f6605",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Voltar ao menu"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Favor selecionar uma das opções:\";\n    var opcoes = [\n        {\n            \"value\": \"Cotação\",\n            \"match\": ['cota'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Catálogo\",\n            \"match\": ['catalo'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Status Pedido\",\n            \"match\": ['statu', 'pedi'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Outros\",\n            \"match\": ['outro'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Voltar ao menu\",\n            \"match\": ['volta', 'menu'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-e60da6f7-107c-4ebf-a47a-33efdd6037cb",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-48d0602f-95b6-4d5e-968a-23c2467c354b",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-03cc9d8f-908d-4eb9-a9da-fc7e9c977e18",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-ed0ed0cf-3ded-4b7e-8898-f98e44c2bd4d",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "fc716601-653a-4c84-9a15-a7e52ddf9aee",
      "root": false,
      "$title": "Agropecuário",
      "$position": {
        "top": "2221.71px",
        "left": "2870.57px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "1140247a-6271-4f00-91ba-bd02c1bed34d": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "b1c984d0-b5bb-4e5c-a458-93cafbd53f40",
          "typeOfStateId": "state",
          "$connId": "con_208",
          "$id": "2013bd69-8eea-4603-b38a-c71c43954e4d",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Veículos Elétricos"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "3bea9562-97bd-4032-8247-5c14f8177dba",
          "typeOfStateId": "state",
          "$connId": "con_213",
          "$id": "141a3e59-088d-4dcc-8517-e867cb87656a",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Baterias"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "{{state.previous.id}}",
          "typeOfStateId": "variable",
          "$id": "a97c63e7-7fee-454a-aa2f-0493647660d8",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Voltar ao menu"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "5cbd9b7b-1d1e-4a2e-ae9b-cff5121360ef",
          "typeOfStateId": "state",
          "$connId": "con_218",
          "$id": "88b0e624-73a0-4d15-beaf-e1c28dcdb3fc",
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            },
            {
              "values": [
                "Input Inesperado"
              ],
              "source": "context",
              "comparison": "notEquals",
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\"Favor selecionar uma das opções:\";\n    var opcoes = [\n        {\n            \"value\": \"Veículos Elétricos\",\n            \"match\": ['veiculo', 'eletric'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Peças\",\n            \"match\": ['peca'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Baterias\",\n            \"match\": ['bateria'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Caixas Móbil\",\n            \"match\": ['caixa', 'mobil'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Serviço/Treinamento\",\n            \"match\": ['serv', 'trein'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Telemetria\",\n            \"match\": ['telemetria'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Outros\",\n            \"match\": ['outr'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Voltar ao menu\",\n            \"match\": ['volt', 'menu'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "d2ac01b2-b02e-4cb7-a2ff-aca29d51ecbf",
          "$typeOfContent": "",
          "type": "SetVariable",
          "$title": "Definir variável filaLogistica",
          "$invalid": false,
          "settings": {
            "variable": "filaLogistica",
            "value": "{{inputInfo@value}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-8ed8a024-4c0a-4cd8-ad0d-40c284e94ca3",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-9316887a-3a3e-4437-94ca-043385c40d31",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-fe5405a0-e0ed-4251-afa6-68394f27a67c",
          "label": "SetVariable",
          "background": "#FF4A1E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-cde11653-9f9d-4f43-b4fe-2199648831d7",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-5f437097-3784-4cb8-9ee8-38c55bb2e148",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "1140247a-6271-4f00-91ba-bd02c1bed34d",
      "root": false,
      "$title": "Logística",
      "$position": {
        "top": "2429px",
        "left": "3101.57px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "b1c984d0-b5bb-4e5c-a458-93cafbd53f40": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "60016a36-f0d8-45aa-ae8f-f754d394c0eb",
          "typeOfStateId": "state",
          "$connId": "con_223",
          "$id": "bf422ce3-0fae-4115-a796-2cf4b388e022",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Catálogo"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "bcbf1112-3fb8-4b34-b069-43051859245b",
          "typeOfStateId": "state",
          "$connId": "con_228",
          "$id": "18298417-7f7e-4b80-a379-be1cf28781e7",
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "values": [
                "Input Inesperado"
              ],
              "variable": "inputInfo@value"
            },
            {
              "values": [],
              "source": "input",
              "comparison": "exists"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "{{state.previous.id}}",
          "typeOfStateId": "variable",
          "$id": "f2944c61-62c8-43e4-9eb1-7e00bc609bea",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Voltar ao menu"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Favor selecionar uma das opções:\";\n    var opcoes = [\n        {\n            \"value\": \"Rebocadores elétricos\",\n            \"match\": ['rebocado', 'eletrico'],\n            \"description\": \"RB30,RB60, RB300, BR700\"\n        },\n        {\n            \"value\": \"Veículos Plataforma\",\n            \"match\": ['veículo', 'plataforma'],\n            \"description\": \"VP09, VPT09\"\n        },\n        {\n            \"value\": \"Veículos para cemitério\",\n            \"match\": ['cemitério'],\n            \"description\": \"VP Park\"\n        },\n        {\n            \"value\": \"Veículos para passageiro\",\n            \"match\": ['passageiro'],\n            \"description\": \"VPX04, VPX06\"\n        },\n        {\n            \"value\": \"Veículos Maca\",\n            \"match\": ['maca'],\n            \"description\": \"VPX03\"\n        },\n        {\n            \"value\": \"Tracionador\",\n            \"match\": ['tracionado'],\n            \"description\": \"RB15\"\n        },\n        {\n            \"value\": \"Catálogo\",\n            \"match\": ['catalogo'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Outros\",\n            \"match\": ['outro'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Voltar ao menu\",\n            \"match\": ['volta', 'menu'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-20e508b6-3a15-41ec-8918-bbbe656e98bd",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-a4259518-72bf-4f39-9844-2e30fd4b8fd1",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-94ad07b5-2dfc-4c81-8619-e108928c6df0",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-9ab9ea2e-e4fd-4baf-8866-660d5f353766",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "b1c984d0-b5bb-4e5c-a458-93cafbd53f40",
      "root": false,
      "$title": "Veículos Elétricos",
      "$position": {
        "top": "2719.5px",
        "left": "2940px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "bcbf1112-3fb8-4b34-b069-43051859245b": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a).",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a)."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"Logística Veículo Elétrico\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-2d1413d2-97c6-49fc-8de9-17ac4ae95189",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-5ae9d251-6525-458d-ac3d-4f91ee69f88b",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "bcbf1112-3fb8-4b34-b069-43051859245b",
      "root": false,
      "$title": "To Help Desk [Logística Veículo Elétrico]",
      "$position": {
        "top": "2952px",
        "left": "3005px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "d018e915-14fe-4738-b077-26553e65c462": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "b52f7f96-e7de-482d-80cd-c5f4098544e9",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "888eff8f-9005-4099-96a0-4e5286a7eb01",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "isAiGenerated": false,
      "$tags": [],
      "id": "d018e915-14fe-4738-b077-26553e65c462",
      "root": false,
      "$title": "Encerrar [Agropecuário] [Duplicate]",
      "$position": {
        "top": "3236px",
        "left": "2630px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "60016a36-f0d8-45aa-ae8f-f754d394c0eb": {
      "$contentActions": [
        {
          "action": {
            "$id": "0d4b31b2-56bc-44d5-9300-adbfa4c49c58",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "1959bd80-1c06-4f24-bbda-bc9b03a764da",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "1959bd80-1c06-4f24-bbda-bc9b03a764da",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "211c7382-3ed0-40c4-b3f0-f1ce160c6ec4",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "6d47b935-6e3d-4d0a-9585-4ae21b992ac9",
              "type": "text/plain",
              "content": "Segue nosso catálogo:",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "6d47b935-6e3d-4d0a-9585-4ae21b992ac9",
                "type": "text/plain",
                "content": "Segue nosso catálogo:"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "331b8e05-5d8b-4e08-a8e8-ebb2e69f0bcb",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "5da47bd4-fdae-4716-8d63-39066502bd9b",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "5da47bd4-fdae-4716-8d63-39066502bd9b",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "0f8f950e-df57-416b-9dc0-65004ca864d4",
            "$typeOfContent": "media-document",
            "type": "SendMessage",
            "settings": {
              "id": "8e704bdf-279b-4e04-a542-8513f01881e0",
              "type": "application/vnd.lime.media-link+json",
              "content": {
                "title": "catálogo.pdf",
                "type": "application/pdf",
                "uri": "https://s3.amazonaws.com/2-unipac.com.br/files/Cat-Log_PORT.pdf"
              },
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "8e704bdf-279b-4e04-a542-8513f01881e0",
                "type": "application/vnd.lime.media-link+json",
                "content": {
                  "title": "catálogo.pdf",
                  "type": "application/pdf",
                  "uri": "https://s3.amazonaws.com/2-unipac.com.br/files/Cat-Log_PORT.pdf"
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "d018e915-14fe-4738-b077-26553e65c462",
          "typeOfStateId": "state",
          "$connId": "con_233",
          "$id": "a8d1836a-fdda-40a1-8e0d-67a0af05e73a",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Encerrar"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "ce69643d-8149-4c94-9c64-53fda7860989",
          "typeOfStateId": "state",
          "$connId": "con_238",
          "$id": "7e855b75-9182-4c9f-964d-a7ace5d46e0d",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Cotação/Dúvidas"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Caso precise de apoio estamos a disposição:\";\n    var opcoes = [\n        {\n            \"value\": \"Encerrar\",\n            \"match\": ['encerr'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Cotação/Dúvidas\",\n            \"match\": ['cota', 'duvid'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-e50e8241-cd2d-4499-81af-beed42150074",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-e881e01f-b963-4b95-9f02-a8f35b4a8ec6",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-3f0ffe91-7145-487e-9476-cbe28f8b950f",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-49f64cf8-c4f6-4d53-a16c-b480a1ca3c80",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "60016a36-f0d8-45aa-ae8f-f754d394c0eb",
      "root": false,
      "$title": "Catálogo",
      "$position": {
        "top": "2979px",
        "left": "2760px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "3bea9562-97bd-4032-8247-5c14f8177dba": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "71bfba5c-d340-4a63-853d-100b37909ec8",
          "typeOfStateId": "state",
          "$connId": "con_243",
          "$id": "f220f26d-bb13-4b89-94b1-ed1c2defa847",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Compra"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "5cbd9b7b-1d1e-4a2e-ae9b-cff5121360ef",
          "typeOfStateId": "state",
          "$connId": "con_248",
          "$id": "27549845-6191-427c-9d20-1fb4d47d84e5",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Consultar Garantia"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Certo, qual informação deseja:\";\n    var opcoes = [\n        {\n            \"value\": \"Compra\",\n            \"match\": ['compr'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Consultar Garantia\",\n            \"match\": ['consult', 'garantia'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-c537f6de-f845-4b9d-a1ac-2c64b13d37c5",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-a2417e27-2323-4e8c-a4be-d2c40b305369",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-89f0d4cf-3394-4afe-8a8f-553925e1bc4b",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-428cb1e1-e15c-4eda-acf9-21be78409a6f",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "3bea9562-97bd-4032-8247-5c14f8177dba",
      "root": false,
      "$title": "Baterias",
      "$position": {
        "top": "2742.57px",
        "left": "3271.86px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "71bfba5c-d340-4a63-853d-100b37909ec8": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "ff38b435-cab6-4085-8386-ca606c685189",
          "typeOfStateId": "state",
          "$connId": "con_253",
          "$id": "bf9179cd-335f-4ae3-aea1-59f8f257dea8",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Veículo Elétrico"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "7e972ffb-af41-4734-bdc1-1314a0781fba",
          "typeOfStateId": "state",
          "$connId": "con_258",
          "$id": "948b7061-e1de-4c5b-acdd-3e92307f9006",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Plataforma Elevatória"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "6f4e2c17-676e-449e-9d85-63e907ad10b8",
          "typeOfStateId": "state",
          "$connId": "con_263",
          "$id": "4a8a948b-fb73-4bc2-8499-546c80fb1120",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Lavadoras de Piso"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "e6fd6fdb-b96d-478d-a8db-22db88c9536e",
          "typeOfStateId": "state",
          "$connId": "con_268",
          "$id": "660a51c2-f022-4819-bbe0-64ba53339f90",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Outros"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "{{state.previous.id}}",
          "typeOfStateId": "variable",
          "$id": "4d7036c9-5fe3-45c0-a069-8132ef46f32d",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Voltar ao menu"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Favor selecionar o produto?\";\n    var opcoes = [\n        {\n            \"value\": \"Veículo Elétrico\",\n            \"match\": ['veiculo', 'elétrico'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Plataforma Elevatória\",\n            \"match\": ['plataforma', 'elevatoria'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Lavadoras de Piso\",\n            \"match\": ['lavad', 'piso'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Outros\",\n            \"match\": ['outro'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Voltar ao menu\",\n            \"match\": ['volta', 'menu'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-a66eee7b-1437-4024-b1ff-bf42f54b05ac",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-3e315cf6-93cf-46a9-876d-e869788ed60e",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-194ec8af-7855-4ea1-8741-b05ab4bab946",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-edd56198-c15d-4b53-b4be-78f5f81f174e",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "71bfba5c-d340-4a63-853d-100b37909ec8",
      "root": false,
      "$title": "Selecionar produto",
      "$position": {
        "top": "2946px",
        "left": "3272px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "ff38b435-cab6-4085-8386-ca606c685189": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "e6fd6fdb-b96d-478d-a8db-22db88c9536e",
          "typeOfStateId": "state",
          "$connId": "con_273",
          "$id": "811215ed-b00e-4e2a-b2b0-c1be33366731",
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "values": [
                "Input Inesperado"
              ],
              "variable": "inputInfo@value"
            },
            {
              "values": [],
              "source": "input",
              "comparison": "exists"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "{{state.previous.id}}",
          "typeOfStateId": "variable",
          "$id": "6528030d-4560-4c6b-bef2-1e4235a9462e",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Voltar ao menu"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Favor informar o modelo:\";\n    var opcoes = [\n        {\n            \"value\": \"T105 6v/225 ah\",\n            \"match\": ['t105', '6v', '225'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"T875 8v/170 ah\",\n            \"match\": ['t875', '8v', '170'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"T1275 12v/150 ah\",\n            \"match\": ['t1275', '12v', '150'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Outros\",\n            \"match\": ['outro'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Voltar ao menu\",\n            \"match\": ['volta', 'menu'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-17a5c5a1-6e9d-414d-a593-4dd836fe64d8",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-78cffee7-4dda-4a7f-b987-da241ab68901",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-b32e7a6a-85b6-4efb-809a-caf9ef04d2c5",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-a0d1ccc4-f56f-4d7a-88ac-747252f09e44",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "ff38b435-cab6-4085-8386-ca606c685189",
      "root": false,
      "$title": "veículo elétrico",
      "$position": {
        "top": "3425px",
        "left": "3179px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "e6fd6fdb-b96d-478d-a8db-22db88c9536e": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a).",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a)."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"Logística Baterias\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-8d8388b1-b54c-431f-93e0-93750ae1d77a",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-7f1b1816-ccc9-4ed5-bc97-dff81dfcd4c3",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "e6fd6fdb-b96d-478d-a8db-22db88c9536e",
      "root": false,
      "$title": "To Help Desk [Logística Baterias]",
      "$position": {
        "top": "3344px",
        "left": "3720px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "7e972ffb-af41-4734-bdc1-1314a0781fba": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "e6fd6fdb-b96d-478d-a8db-22db88c9536e",
          "typeOfStateId": "state",
          "$connId": "con_278",
          "$id": "811215ed-b00e-4e2a-b2b0-c1be33366731",
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "values": [
                "Input Inesperado"
              ],
              "variable": "inputInfo@value"
            },
            {
              "values": [],
              "source": "input",
              "comparison": "exists"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "{{state.previous.id}}",
          "typeOfStateId": "variable",
          "$id": "445effb2-fcb4-438b-b177-94859b7f83ff",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Voltar ao menu"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Favor informar o modelo:\";\n    var opcoes = [\n        {\n            \"value\": \"T105\",\n            \"match\": ['t105'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"L16G\",\n            \"match\": ['L16G'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"J305G\",\n            \"match\": ['J305G'],\n            \"description\": \"\"\n        },       \n        {\n            \"value\": \"J305H\",\n            \"match\": ['J305H'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"T145\",\n            \"match\": ['T145'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"27TMX\",\n            \"match\": ['27TMX'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Outros\",\n            \"match\": ['outro'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Voltar ao menu\",\n            \"match\": ['volta', 'menu'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-98076a90-5be6-43a2-a9fe-763c1bd4d753",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-db2c3ba8-9ce2-4e18-b626-c672225abacd",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-ec3a3b68-d51f-4ed3-97a7-0a11fc0d720d",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-ccd5aa7e-ee56-4453-b459-0c3b879fbf42",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "7e972ffb-af41-4734-bdc1-1314a0781fba",
      "root": false,
      "$title": "Plataforma elevatória",
      "$position": {
        "top": "3132px",
        "left": "3473px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "6f4e2c17-676e-449e-9d85-63e907ad10b8": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "e6fd6fdb-b96d-478d-a8db-22db88c9536e",
          "typeOfStateId": "state",
          "$connId": "con_283",
          "$id": "811215ed-b00e-4e2a-b2b0-c1be33366731",
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "values": [
                "Input Inesperado"
              ],
              "variable": "inputInfo@value"
            },
            {
              "values": [],
              "source": "input",
              "comparison": "exists"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "{{state.previous.id}}",
          "typeOfStateId": "variable",
          "$id": "de659936-456d-42dd-9508-949c62281d1d",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Voltar ao menu"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Favor informar o modelo:\";\n    var opcoes = [\n        {\n            \"value\": \"T105\",\n            \"match\": ['t105'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"L16G\",\n            \"match\": ['L16G'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"J305G\",\n            \"match\": ['J305G'],\n            \"description\": \"\"\n        },       \n        {\n            \"value\": \"J305H\",\n            \"match\": ['J305H'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"27TMX\",\n            \"match\": ['27TMX'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Outros\",\n            \"match\": ['outro'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Voltar ao menu\",\n            \"match\": ['volta', 'menu'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-28f81265-ab86-47fa-ae91-91e622df932c",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-eba91fe8-3f63-4e72-9b00-a34ddde49b18",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-d41153d1-c69e-4b51-aacf-40ad815ba36c",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-df751ad8-a125-4e4a-9a40-10e54e37f048",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "6f4e2c17-676e-449e-9d85-63e907ad10b8",
      "root": false,
      "$title": "Lavadoras de piso",
      "$position": {
        "top": "3292px",
        "left": "3334px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "5cbd9b7b-1d1e-4a2e-ae9b-cff5121360ef": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a).",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a)."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "1a60cd2e-9d06-40e0-ba95-0feb1e788e41",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define a fila (filaLogistica)",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(fila){\n    fila = to_lowercase_no_accent(fila);\n\n\tif(fila == \"pecas\"){\n\t\treturn \"Logística Peças de Reposição\";\n\t}else if(fila == \"caixas mobil\"){\n\t\treturn \"Logística Caixa Móbil\"\n\t}else if(fila == \"servico/ treinamento\"){\n\t\treturn \"Prestação de Serviço / Treinamento\"\n\t}else if(fila == \"telemetria\"){\n\t\treturn \"Logística Telemetria/Rastreabilidade\"\n\t}else{\n\t\treturn \"Logística Outros\"\n\t}\n}\n\nfunction to_lowercase_no_accent(entry){\n    entry = entry.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\"); // remove os acentos\n    entry = entry.toLowerCase(); // deixa minúscula\n\n    return entry;\n}",
            "inputVariables": [
              "filaLogistica"
            ],
            "outputVariable": "filaLogistica",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"{{filaLogistica}}\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-196bc070-899b-4b52-92ef-69325322b882",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-949d1fb8-fdd1-493e-a91a-78dbddfeb3c7",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-f3141095-7072-45fb-9674-6888889e236e",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "5cbd9b7b-1d1e-4a2e-ae9b-cff5121360ef",
      "root": false,
      "$title": "To Help Desk [filaLogistica]",
      "$position": {
        "top": "2514.43px",
        "left": "3369.14px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "96156573-749c-4c3a-9167-1d3a630e98f9": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "a1461265-6db2-4452-9338-26ec8a677f48",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "cfc132a6-0552-40b9-a779-f0dfe9a49b96",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "isAiGenerated": false,
      "$tags": [
        {
          "background": "#1EA1FF",
          "label": "DirectTo",
          "id": "blip-tag-340a062f-f850-8e0b-70d4-f48dfb7b84be",
          "canChangeBackground": false
        }
      ],
      "id": "96156573-749c-4c3a-9167-1d3a630e98f9",
      "root": false,
      "$title": "Volta ao menu principal",
      "$position": {
        "top": "1928px",
        "left": "3113px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "64281ea9-acc3-446d-bf00-b2910a3a9f9c": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "{{state.previous.id}}",
          "typeOfStateId": "variable",
          "$id": "c2cbf759-6faa-4467-90fb-a702a61a1c7a",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Voltar ao menu"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "3b0a1f75-2316-4f2f-91ef-9c9b93540dc0",
          "typeOfStateId": "state",
          "$connId": "con_288",
          "$id": "7fa4dd03-ba3c-4b61-ae40-1d49a8c88a92",
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "values": [
                "Input Inesperado"
              ],
              "variable": "inputInfo@value"
            },
            {
              "values": [],
              "source": "input",
              "comparison": "exists"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Por favor, qual segmento deseja falar?\";\n    var opcoes = [\n        {\n            \"value\": \"Automotivo\",\n            \"match\": ['automo'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Agropecuário\",\n            \"match\": ['agropec'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Logística\",\n            \"match\": ['logisti'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Embalagens e tampas\",\n            \"match\": ['embalage'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Outros\",\n            \"match\": ['outr'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Voltar ao menu\",\n            \"match\": ['volt', 'menu'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "8dd8c618-febb-46ff-b325-93f79b163df1",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Defina fila financeiro",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "/**\n* All input variables needs to be passed as function param;\n* Objects received as param needs to be parsed. Ex.: JSON.parse(inputVariable1);\n* Objects returned needs to be stringfied. Ex.: JSON.stringify(inputVariable1);\n**/\nfunction run(inputInfo) {\n\tvar inputInfo = JSON.parse(inputInfo);\n\treturn \"Financeiro \" + inputInfo.value;\n}",
            "inputVariables": [
              "inputInfo"
            ],
            "outputVariable": "filaFinanceiro",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-49c403fa-8c8b-4a72-9595-b4878cedfbc3",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-66e69f39-264a-4ded-aca3-e3e714ce14e0",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-63e42a2b-6c04-43a5-9f0e-6508c8a73f17",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-a2e30b8c-f439-4c48-b0ce-07a328726340",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "64281ea9-acc3-446d-bf00-b2910a3a9f9c",
      "root": false,
      "$title": "Financeiro",
      "$position": {
        "top": "1553px",
        "left": "4747px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "3b0a1f75-2316-4f2f-91ef-9c9b93540dc0": {
      "$contentActions": [
        {
          "action": {
            "$id": "7116ae07-f706-4a5e-82db-e8ec484ce61b",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "b16de986-a144-4b8c-ae97-e70f7faab58c",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "b16de986-a144-4b8c-ae97-e70f7faab58c",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "038c96c2-926b-48cc-a792-1726215afd54",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "5418c024-ddfc-4dc9-8692-90f060bd63fb",
              "type": "text/plain",
              "content": "Favor informar seu CNPJ ou CPF ",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "5418c024-ddfc-4dc9-8692-90f060bd63fb",
                "type": "text/plain",
                "content": "Favor informar seu CNPJ ou CPF "
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "f616de70-89e5-45eb-bc92-976974a3a9e1",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "922b51f5-616d-47f9-bb8e-cf6164eaee8a",
          "typeOfStateId": "state",
          "$connId": "con_293",
          "$id": "45cee323-3333-4390-9dc2-385c8a88d0c4",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "true"
              ],
              "variable": "validateInput@validate"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "806f3588-be3f-429d-b69b-738751d19fb5",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "68cb5089-d248-4bd0-bf0d-427a953057bc",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Valida um formato de dado usando o common regex",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(input){\n    // ************************************************************************************************* //\n    // * tipos disponíveis:                                                                            * //\n    // * Command                                                                                       * //\n    // * CPF                                                                                           * //\n    // * CNPJ                                                                                          * //\n    // * Phone number                                                                                  * //\n    // * Email                                                                                         * //\n    // * Date BR                                                                                       * //\n    // * Date ISO                                                                                      * //\n    // * Name                                                                                          * //\n    // * Car plate                                                                                     * //\n    // *                                                                                               * //\n    // * Você pode encontrar mais tipos de regex em Coteúdos > Recursos > common_regex no bot roteador * //\n    // ************************************************************************************************* //\n    return common_regex('CPF/CNPJ', input);\n}\n\n{{resource.commonRegex}}",
            "inputVariables": [
              "input.content"
            ],
            "outputVariable": "validateInput",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "95d2e8c3-0f90-4be7-8fc6-0ccae354120e",
          "$typeOfContent": "",
          "type": "MergeContact",
          "$title": "Definir contato (CPF/CNPJ)",
          "$invalid": false,
          "settings": {
            "extras": {},
            "taxDocument": "{{validateInput@normalizedInput}}"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "validateInput@validate",
              "values": [
                "true"
              ]
            }
          ]
        },
        {
          "$id": "effdd7d9-45b0-4457-bd34-f671606ae984",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Coleta de dados | Falha",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Coleta de dados | Falha",
            "action": "{{validateInput@expectedType}} | {{validateInput@input}}"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "validateInput@validate",
              "values": [
                "false"
              ]
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-0e1c241b-67a3-4062-b0b9-5112bdf22500",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-dd124fc3-cbaa-464f-baee-c03144994495",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-790f99de-a528-4fd1-9cf1-d63e54f750a5",
          "label": "MergeContact",
          "background": "#FF1E90",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-cf80bb07-f377-4a36-9b0a-3fb6c8d45f74",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-623678b0-060b-4276-b23a-f68631debb30",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "3b0a1f75-2316-4f2f-91ef-9c9b93540dc0",
      "root": false,
      "$title": "Coleta CPF/CNPJ",
      "$position": {
        "top": "1632.5px",
        "left": "4407px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "6230b0a9-8a44-4180-9b4b-2ef5b8ce8600": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Não te encontrei em nosso sistema. Mas, não se preocupe! Vou te transferir um colega humano. Ele poderá te ajudar na sua questão.\n\nAdorei falar com você!",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Não te encontrei em nosso sistema. Mas, não se preocupe! Vou te transferir um colega humano. Ele poderá te ajudar na sua questão.\n\nAdorei falar com você!"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [
        {
          "$id": "ae5d2006-64c5-4753-9cad-971d0a7cf3a0",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define Mensagem Atendimento",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "/**\n* All input variables needs to be passed as function param;\n* Objects received as param needs to be parsed. Ex.: JSON.parse(inputVariable1);\n* Objects returned needs to be stringfied. Ex.: JSON.stringify(inputVariable1);\n**/\nfunction run() {\n\n\tconst mensagemAtendimento = \"Certo... ainda não consegui validar então vou te transferir para nosso time, em breve eles irão atendê-lo (a)​\"\n\n\treturn mensagemAtendimento; //Return value will be saved as \"Return value variable\" field name\n}",
            "inputVariables": [],
            "outputVariable": "mensagemAtendimento",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"Financeiro Logística\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-45506ce0-c082-4e85-aec1-61316d2634c3",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-515a716e-10a6-4347-b780-cd83746c34f7",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-13c538ce-0892-419c-9747-0bc4036b2c76",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "6230b0a9-8a44-4180-9b4b-2ef5b8ce8600",
      "root": false,
      "$title": "To Help Desk [Financeiro Logística]",
      "$position": {
        "top": "1925.14px",
        "left": "4738.43px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "fcacb509-893f-43f4-a5d2-74d48ac88f39": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "64281ea9-acc3-446d-bf00-b2910a3a9f9c",
          "typeOfStateId": "state",
          "$connId": "con_298",
          "$id": "b88b0cf5-6701-4a06-9b2c-731869ba1e1c",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Voltar ao menu"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "a5b6ee59-e809-444c-ab47-13ef798c8c21",
          "typeOfStateId": "state",
          "$connId": "con_303",
          "$id": "9803dcf3-16eb-4b4e-bdbf-b438653a8067",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Boleto"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "6e00a394-3ec9-4a82-893d-4d73e54558d4",
          "typeOfStateId": "state",
          "$connId": "con_308",
          "$id": "46bc3cea-2028-4db1-9e5a-a53bea5fd5e0",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Nota Fiscal"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "76a13cd6-c968-4681-829b-d0a6942df859",
          "typeOfStateId": "state",
          "$connId": "con_313",
          "$id": "88ec8a14-ad8f-47f6-a726-03d551d9c8cc",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Outros"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Certo, por favor, selecione uma opção\";\n    var opcoes = [\n        {\n            \"value\": \"Boleto\",\n            \"match\": ['boleto'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Nota Fiscal\",\n            \"match\": ['nota', 'fiscal'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Outros\",\n            \"match\": ['outr'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Voltar ao menu\",\n            \"match\": ['volt', 'menu'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-1920b863-e23c-4e6a-9721-2079deddf471",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-62d5c632-3538-458e-9e9a-055a3406ad1f",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-5ae26868-9b52-491a-83ab-439aaa7232e0",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-3dfa79fc-061f-41bf-a7cf-fc993bb2a18e",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "fcacb509-893f-43f4-a5d2-74d48ac88f39",
      "root": false,
      "$title": "CPF Cadastrado",
      "$position": {
        "top": "1656.43px",
        "left": "5111.14px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "a5b6ee59-e809-444c-ab47-13ef798c8c21": {
      "$contentActions": [
        {
          "action": {
            "$id": "c842ed81-39be-4511-9a16-3a93ce170330",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "8945d03d-70b0-4eeb-9147-da5c2fb51097",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "8945d03d-70b0-4eeb-9147-da5c2fb51097",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "03e271d0-1432-41b0-b4e7-398c2b52f80d",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "8bdf3e0f-0e08-40aa-8252-f06933f7c8da",
              "type": "text/plain",
              "content": "Favor informar o número da Nota fiscal",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "8bdf3e0f-0e08-40aa-8252-f06933f7c8da",
                "type": "text/plain",
                "content": "Favor informar o número da Nota fiscal"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "522a5865-62e3-4e75-a0eb-cd7780c119c5",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "490b6906-8687-47a8-be94-371f74bd773f",
          "typeOfStateId": "state",
          "$connId": "con_318",
          "$id": "7a8bf056-e7f0-4fd3-ac94-6f5a4dfde11f",
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "isAiGenerated": false,
      "$tags": [
        {
          "id": "blip-tag-37942f71-6923-4a46-bb91-2ca6c0c970f6",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-e59f7a31-a240-4084-910e-7c15a2e35f6e",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "a5b6ee59-e809-444c-ab47-13ef798c8c21",
      "root": false,
      "$title": "Boleto",
      "$position": {
        "top": "1930.29px",
        "left": "4972.57px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "6e00a394-3ec9-4a82-893d-4d73e54558d4": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "490b6906-8687-47a8-be94-371f74bd773f",
          "typeOfStateId": "state",
          "$connId": "con_323",
          "$id": "6e7e8691-561c-400b-9b0a-3ab81c4603c4",
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            },
            {
              "values": [
                "input inesperado"
              ],
              "source": "context",
              "comparison": "notEquals",
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Você deseja o PDF da Nota Fiscal ou apenas o número?\";\n    var opcoes = [\n        {\n            \"value\": \"Número\",\n            \"match\": ['número'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"PDF\",\n            \"match\": ['pdf'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "57aa05d9-19c1-4cc4-a93f-23262c973e9f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "define opcaoNotaFiscal",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputInfo) {\n\tinputInfo = JSON.parse(inputInfo);\n\treturn inputInfo.value; \n}",
            "inputVariables": [
              "inputInfo"
            ],
            "outputVariable": "opcaoNotaFiscal",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-5a65fbe8-b028-4a48-b7f6-7bf644c2b245",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-2e52f770-5979-48a9-b448-2929ca3239ad",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-d46f5893-5158-4118-8ac0-a9518844cb84",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-b23bbbef-a877-4e17-b54d-52e0fba3e34e",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "6e00a394-3ec9-4a82-893d-4d73e54558d4",
      "root": false,
      "$title": "Nota fiscal",
      "$position": {
        "top": "1921.43px",
        "left": "5242.86px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "490b6906-8687-47a8-be94-371f74bd773f": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a).",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a)."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"{{filaFinanceiro}}\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-dd80393f-62f7-4ba2-a51b-08f80840bca2",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-de89b5a8-ad40-47af-b7f6-63a25b5e1303",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "490b6906-8687-47a8-be94-371f74bd773f",
      "root": false,
      "$title": "To Help Desk [Financeiro]",
      "$position": {
        "top": "2169.71px",
        "left": "5111.14px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "76a13cd6-c968-4681-829b-d0a6942df859": {
      "$contentActions": [
        {
          "action": {
            "$id": "dc5b4bdf-4ba4-4502-a469-9a860d32deed",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ae2319ff-9065-4bf4-a0fd-e557d1a749ff",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ae2319ff-9065-4bf4-a0fd-e557d1a749ff",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "e06e5033-9b67-4578-9b52-989857c788f8",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "93faa885-7f55-4fa5-9c93-404cb9e0d484",
              "type": "text/plain",
              "content": "Favor informar sua solicitação",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "93faa885-7f55-4fa5-9c93-404cb9e0d484",
                "type": "text/plain",
                "content": "Favor informar sua solicitação"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "431996d6-e2af-4540-871f-015960b0b861",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "f425feb7-b5c0-477a-a93e-5fd5971e1508",
          "typeOfStateId": "state",
          "$connId": "con_328",
          "$id": "b994f04a-9785-4a17-a677-1777eba65675",
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "isAiGenerated": false,
      "$tags": [
        {
          "id": "blip-tag-ce5e1d63-a673-47f4-8ad7-938cb50b600e",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-672e10dc-79b6-4b7e-aa8e-2c84bbe18a6e",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "76a13cd6-c968-4681-829b-d0a6942df859",
      "root": false,
      "$title": "Outros",
      "$position": {
        "top": "1656.14px",
        "left": "5429.14px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "f425feb7-b5c0-477a-a93e-5fd5971e1508": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a).",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a)."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"Geral\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-7f01679f-74aa-40ce-b5b1-e25e6a5fa6ea",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-d0d86e91-df1e-47a0-9051-306c7362d793",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "f425feb7-b5c0-477a-a93e-5fd5971e1508",
      "root": false,
      "$title": "To Help Desk [Financeiro Outros]",
      "$position": {
        "top": "1631.86px",
        "left": "5663px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "dab24e0f-2995-4667-a96c-4a3cb0ac541e": {
      "$contentActions": [
        {
          "action": {
            "$id": "14dc8a9e-6864-4897-b967-a7d09a3c13c0",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "cf4bc001-5fb2-45c2-8d7c-926c5b83ee63",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "cf4bc001-5fb2-45c2-8d7c-926c5b83ee63",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "0a373f95-db7e-4b1b-b35c-871b6c70a7ef",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "df8347f2-014d-49e3-88dd-cf177c377b2d",
              "type": "text/plain",
              "content": "Obrigado por seu contato, e esperamos que consiga uma oportunidade de trabalho no mercado muito em breve.\n\nPara se candidatar as vagas no grupo Jacto, pedimos gentilmente que acesse o link abaixo:\n\nhttps://jacto.csod.com/ux/ats/careersite/1/home?c=jacto#/\n\nBoa sorte,\nUnipac 🍀",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "df8347f2-014d-49e3-88dd-cf177c377b2d",
                "type": "text/plain",
                "content": "Obrigado por seu contato, e esperamos que consiga uma oportunidade de trabalho no mercado muito em breve.\n\nPara se candidatar as vagas no grupo Jacto, pedimos gentilmente que acesse o link abaixo:\n\nhttps://jacto.csod.com/ux/ats/careersite/1/home?c=jacto#/\n\nBoa sorte,\nUnipac 🍀"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "47a5ff0e-267e-47b5-b52f-a621356d6f5f",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "888eff8f-9005-4099-96a0-4e5286a7eb01",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "isAiGenerated": false,
      "$tags": [
        {
          "id": "blip-tag-3d6c67ce-9686-493c-b045-9dfdd61827f1",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "dab24e0f-2995-4667-a96c-4a3cb0ac541e",
      "root": false,
      "$title": "Envio de currículo",
      "$position": {
        "top": "1134px",
        "left": "4285.71px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "4bfc1c7c-26f1-4da3-88d6-5cc0b849d63d": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Estamos te transferindo, em breve nosso time irá atendê-lo(a).",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Estamos te transferindo, em breve nosso time irá atendê-lo(a)."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"Sugestões/Reclamações\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-9bad4798-da17-4398-9d57-fbb41db6aa96",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-3c6e8de4-730f-4822-a8d9-7de1d017a5e8",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "4bfc1c7c-26f1-4da3-88d6-5cc0b849d63d",
      "root": false,
      "$title": "To Help Desk [Geral]",
      "$position": {
        "top": "1221.27px",
        "left": "6462px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "922b51f5-616d-47f9-bb8e-cf6164eaee8a": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "2cc54f64-74c2-4f75-9b33-92cb996a40a0",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "6230b0a9-8a44-4180-9b4b-2ef5b8ce8600",
          "typeOfStateId": "state",
          "$connId": "con_333",
          "$id": "1507638d-9f31-4fd3-b86f-6a7fbf1c3230",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Falha"
              ],
              "variable": "cliente"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "fcacb509-893f-43f4-a5d2-74d48ac88f39",
          "typeOfStateId": "state",
          "$connId": "con_338",
          "$id": "1a3f46d7-5763-4790-af0a-aa9128c3f80e",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "CPF",
                "CNPJ"
              ],
              "variable": "cliente"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "cadf6c1e-b31b-459c-bf61-e8c6108f977a",
          "$typeOfContent": "",
          "type": "ProcessHttp",
          "$title": "Busca Contato no SAP",
          "$invalid": false,
          "settings": {
            "headers": {},
            "method": "POST",
            "uri": "{{resource.apiUnipac@url}}/api/contact",
            "responseStatusVariable": "statusCodeContato",
            "responseBodyVariable": "responseContato",
            "body": "{\n    \"idFiscal\":\"{{contact.taxDocument}}\"\n}"
          },
          "conditions": []
        },
        {
          "$id": "2277ec3d-f7f2-4876-905d-31bc6dbbde92",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Contabiliza requisição nome com sucesso",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Busca cliente",
            "action": "Sucesso"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "statusCodeContato",
              "values": [
                "200"
              ]
            }
          ]
        },
        {
          "$id": "521d3da9-57a8-4ad1-a6ad-bce54493dcdd",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Contabiliza requisição nome com falha",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Busca cliente",
            "action": "Falha"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "variable": "statusCodeContato",
              "values": [
                "200"
              ]
            }
          ]
        },
        {
          "$id": "bd8c72c9-c630-49a0-b65f-811e3d0125f0",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Verifica Contato",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(response){\n    try {\n        response = JSON.parse(response);\n        if (response.exception && response.exception.message && response.exception.message == \"Sucesso\") {\n            if (response.customer && response.customer.cpf) {\n                return \"CPF\";\n            }\n            else if (response.customer && response.customer.cnpj) {\n                return \"CNPJ\";\n            }\n        }\n        \n        return \"Falha\";\n    }\n    catch(e) {\n        return \"Falha\";\n    }\n}",
            "inputVariables": [
              "responseContato"
            ],
            "outputVariable": "cliente",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "d8307762-0e38-4fb0-a0fd-40171fbce200",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Trata variáveis do contato",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(v){\n\tv = JSON.parse(v);\n    if(v['customer'] != undefined){\n        return v['customer']\n    }\n    return false\n}",
            "inputVariables": [
              "responseContato"
            ],
            "outputVariable": "infosContato",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "dae0c192-fbdb-435e-9fd1-bf5a1df40d0d",
          "$typeOfContent": "",
          "type": "MergeContact",
          "$title": "Definir contato",
          "$invalid": false,
          "settings": {
            "extras": {
              "endereco": "{{infosContato@street}}, {{infosContato@houseNum}} - {{infosContato@district}}, {{infosContato@region}} - {{infosContato@country}}",
              "cnpj": "{{infosContato@cnpj}}",
              "nomeFantasia": "{{infosContato@name}}"
            },
            "email": "{{infosContato@email}}",
            "phoneNumber": "{{infosContato@telNumber}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-d37c6065-5f43-4947-9d59-7929898b42a9",
          "label": "ProcessHttp",
          "background": "#7762E3",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-3e124139-babc-4c0e-bda7-8f11f9bf6c04",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-d10dec83-f275-4aa9-b5b5-8d2a45e95218",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-7f1ba6bc-c9fa-494b-908a-9b9c10996d8f",
          "label": "MergeContact",
          "background": "#FF1E90",
          "canChangeBackground": false
        }
      ],
      "id": "922b51f5-616d-47f9-bb8e-cf6164eaee8a",
      "root": false,
      "$title": "Busca CPF/CNPJ",
      "$position": {
        "top": "1715.86px",
        "left": "4739.43px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "2c4bc64e-1033-436d-96e1-6b2fd6152f32": {
      "$contentActions": [
        {
          "action": {
            "$id": "930486da-d3af-4d82-9c56-3aa33538cc29",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "c82afc61-287b-42e3-802e-6192973cf706",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "c82afc61-287b-42e3-802e-6192973cf706",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "6cc030ba-9ec1-4e10-8b0a-038a7791119c",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "2ab8e029-3666-4a40-9656-6e5ac2c59705",
              "type": "text/plain",
              "content": "{{urlBaseTesteHTTP}}\n------------------------------------\n\nStatus code:\n{{statusCode}}\n\nResposta:\n{{response}}\n\n\n\n{{urlBaseTesteHTTPS}}\n------------------------------------\n\nStatus code:\n{{statusCodeHTTPS}}\n\nResposta:\n{{responseHTTPS}}",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "2ab8e029-3666-4a40-9656-6e5ac2c59705",
                "type": "text/plain",
                "content": "{{urlBaseTesteHTTP}}\n------------------------------------\n\nStatus code:\n{{statusCode}}\n\nResposta:\n{{response}}\n\n\n\n{{urlBaseTesteHTTPS}}\n------------------------------------\n\nStatus code:\n{{statusCodeHTTPS}}\n\nResposta:\n{{responseHTTPS}}"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "46977e98-1903-49e4-a36a-6f606e74b72e",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [
        {
          "$id": "d3895b36-2a90-4f5d-bf46-393f2cf11edd",
          "$typeOfContent": "",
          "type": "SetVariable",
          "$title": "Reset (statusCode)",
          "$invalid": false,
          "settings": {
            "variable": "statusCode"
          },
          "conditions": []
        },
        {
          "$id": "ae5fb2fb-cd44-47fb-a1b4-09433233d3dc",
          "$typeOfContent": "",
          "type": "SetVariable",
          "$title": "Reset (response)",
          "$invalid": false,
          "settings": {
            "variable": "response"
          },
          "conditions": []
        },
        {
          "$id": "1ff9db85-7e6b-4ffe-9bc3-f78e56f68d40",
          "$typeOfContent": "",
          "type": "SetVariable",
          "$title": "Reset (statusCodeHTTPS)",
          "$invalid": false,
          "settings": {
            "variable": "statusCodeHTTPS"
          },
          "conditions": []
        },
        {
          "$id": "dd480732-a21c-4fc0-a3bf-04cfd80d1952",
          "$typeOfContent": "",
          "type": "SetVariable",
          "$title": "Reset (responseHTTPS)",
          "$invalid": false,
          "settings": {
            "variable": "responseHTTPS"
          },
          "conditions": []
        },
        {
          "$id": "416485e3-2e51-4b80-8caa-dc9e493942e4",
          "$typeOfContent": "",
          "type": "SetVariable",
          "$title": "Definir var (urlBaseTesteHTTP)",
          "$invalid": false,
          "settings": {
            "variable": "urlBaseTesteHTTP",
            "value": "http://chatbot.unipac.com.br:8080"
          },
          "conditions": []
        },
        {
          "$id": "b0a2100f-7c13-4220-8c90-b0e2a8d26d83",
          "$typeOfContent": "",
          "type": "SetVariable",
          "$title": "Definir var (urlBaseTesteHTTPS)",
          "$invalid": false,
          "settings": {
            "variable": "urlBaseTesteHTTPS",
            "value": "https://chatbot.unipac.com.br:8080"
          },
          "conditions": []
        },
        {
          "$id": "caab3f9a-cfb0-4295-a01a-0f892d05309a",
          "$typeOfContent": "",
          "type": "ProcessHttp",
          "$title": "Requisição HTTP",
          "$invalid": false,
          "settings": {
            "headers": {},
            "method": "GET",
            "uri": "{{urlBaseTesteHTTP}}",
            "responseStatusVariable": "statusCode",
            "responseBodyVariable": "response"
          },
          "conditions": []
        },
        {
          "$id": "fd1934ea-1c6f-4689-98aa-c7c1427f11cd",
          "$typeOfContent": "",
          "type": "ProcessHttp",
          "$title": "Requisição HTTPS",
          "$invalid": false,
          "settings": {
            "headers": {},
            "method": "GET",
            "uri": "{{urlBaseTesteHTTPS}}",
            "responseStatusVariable": "statusCodeHTTPS",
            "responseBodyVariable": "responseHTTPS"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "isAiGenerated": false,
      "$tags": [
        {
          "id": "blip-tag-cec7a094-feba-49ea-894f-e34510a0f3b9",
          "label": "SetVariable",
          "background": "#FF4A1E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-bf97901f-9cca-4140-a0ab-29633f49c5d6",
          "label": "ProcessHttp",
          "background": "#7762E3",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-721cb0fd-554d-4fbb-bff3-3ffad301bc55",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "2c4bc64e-1033-436d-96e1-6b2fd6152f32",
      "root": false,
      "$title": "requisição",
      "$position": {
        "top": "166px",
        "left": "4685px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "4f6818a6-97a3-4ccc-b896-6c5f8146d897": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "684eb974-8b6b-4c38-a910-00af02f0a8ec",
          "typeOfStateId": "state",
          "$connId": "con_343",
          "$id": "a09d73e5-775b-46d9-9657-82bbcfaad1dc",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Outros períodos"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "19ab5d8b-2c85-4123-ac6c-261ca80716ba",
          "typeOfStateId": "state",
          "$connId": "con_348",
          "$id": "e329456a-e57b-47e7-8b74-414c1e40bba0",
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "values": [
                "Input inesperado"
              ],
              "variable": "inputInfo@value"
            },
            {
              "values": [],
              "source": "input",
              "comparison": "exists"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Você deseja o PDF da Nota Fiscal ou apenas o número?\";\n    var opcoes = [\n        {\n            \"value\": \"Últimos 15 dias\",\n            \"match\": ['15'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Últimos 30 dias\",\n            \"match\": ['30'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Últimos 90 dias\",\n            \"match\": ['90'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Outros períodos\",\n            \"match\": ['outro', 'periodo'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-70d4a23b-fcba-4b25-a7ed-c8f810c5eb41",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-8ced1a6e-2c80-415c-8482-187a594a36a6",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-2ac50ebb-518a-406b-a03b-0c8d1bcec520",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-9af02f06-de72-4595-b21b-f3ca91a1e8a5",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "4f6818a6-97a3-4ccc-b896-6c5f8146d897",
      "root": false,
      "$title": "PDF [Duplicate]",
      "$position": {
        "top": "2139.67px",
        "left": "6485px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "684eb974-8b6b-4c38-a910-00af02f0a8ec": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Aguarde um momento enquanto transfiro você para um atendimento humano!\n\nAdorei falar com você! Até mais!",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Aguarde um momento enquanto transfiro você para um atendimento humano!\n\nAdorei falar com você! Até mais!"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": \"{{fila}}\"\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-8b9dfcfb-632b-4b21-82fc-796f4793d664",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-619ebb10-e019-4936-bda4-54eedea70298",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "684eb974-8b6b-4c38-a910-00af02f0a8ec",
      "root": false,
      "$title": "To Help Desk [Duplicate]",
      "$position": {
        "top": "2339.67px",
        "left": "6486px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "03cfc8c8-91a9-4742-a515-ceadc6b64341": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "5fe8ed7b-72fb-495f-82a3-c248646bd0d6",
          "typeOfStateId": "state",
          "$connId": "con_353",
          "$id": "6f2f1286-72b3-422a-972f-225df00479f8",
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": [],
              "variable": "input"
            },
            {
              "values": [
                "Input Inesperado"
              ],
              "source": "context",
              "comparison": "notEquals",
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform, opcoesNF){\n    var opcoesNF = JSON.parse(opcoesNF);\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Por favor, qual Nota Fiscal você deseja?\";\n    var opcoes = opcoesNF;\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform",
              "opcoesNF"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-2c9f9436-ca4d-4690-9c59-25c5ee5c59db",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-3e9c415d-7335-4e1a-9fab-88039c2d1caf",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-77c024f2-1414-4c5d-95f6-7785e95eb51f",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-918e8eab-cfd9-4cf2-9623-539372562e0c",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "03cfc8c8-91a9-4742-a515-ceadc6b64341",
      "root": false,
      "$title": "Exibe lista das notas filtradas [Duplicate]",
      "$position": {
        "top": "2466.67px",
        "left": "6123px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "5fe8ed7b-72fb-495f-82a3-c248646bd0d6": {
      "$contentActions": [
        {
          "action": {
            "$id": "c818eba4-26a2-4dc2-a00f-279cf2f3dd53",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "2157a989-c7b9-4c85-94f1-b2e1d730ec0a",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "2157a989-c7b9-4c85-94f1-b2e1d730ec0a",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "ee97c90d-c329-430a-b215-9ebb315dce40",
            "$typeOfContent": "media-document",
            "type": "SendMessage",
            "settings": {
              "id": "2cfd88ac-31a5-42c2-a0fc-0f024a26e803",
              "type": "application/vnd.lime.media-link+json",
              "content": {
                "title": "nota_fiscal.pdf",
                "type": "application/pdf",
                "uri": "http://200.206.115.113:8080/api/notafiscal/pdf/{{contact.taxDocument}}/{{inputInfo@objref.numDoc}}"
              },
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "2cfd88ac-31a5-42c2-a0fc-0f024a26e803",
                "type": "application/vnd.lime.media-link+json",
                "content": {
                  "title": "nota_fiscal.pdf",
                  "type": "application/pdf",
                  "uri": "http://200.206.115.113:8080/api/notafiscal/pdf/{{contact.taxDocument}}/{{inputInfo@objref.numDoc}}"
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "785f33f9-a09e-4d1d-95f5-d445a94f4c4d",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "34b87985-d15b-4809-8951-e4b4b2f80ef5",
          "typeOfStateId": "state",
          "$connId": "con_358",
          "$id": "926f6cb7-5571-4f54-9b2f-a7950e8f329c",
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "isAiGenerated": false,
      "$tags": [
        {
          "id": "blip-tag-ead89077-55dd-42e9-b4d6-134fea88fa4e",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "5fe8ed7b-72fb-495f-82a3-c248646bd0d6",
      "root": false,
      "$title": "Exibe PDF Nota Fiscal [Duplicate]",
      "$position": {
        "top": "2650.67px",
        "left": "6124px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "34b87985-d15b-4809-8951-e4b4b2f80ef5": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "b52f7f96-e7de-482d-80cd-c5f4098544e9",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "888eff8f-9005-4099-96a0-4e5286a7eb01",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "isAiGenerated": false,
      "$tags": [],
      "id": "34b87985-d15b-4809-8951-e4b4b2f80ef5",
      "root": false,
      "$title": "Encerrar [Nota Fiscal] [Duplicate]",
      "$position": {
        "top": "2661.67px",
        "left": "5847px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "05ca2bef-2224-4563-a175-e24e5b5bc3da": {
      "$contentActions": [
        {
          "action": {
            "$id": "f7f11bc9-afda-4389-8e28-9145f0be3440",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "c723c573-b9c7-4392-a580-d623793b9a1f",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "c723c573-b9c7-4392-a580-d623793b9a1f",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "f564174d-357b-4463-9a72-67af0f8f1a1e",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a38fc95f-4052-489d-b257-c7b58e789ae2",
              "type": "text/plain",
              "content": "O número da sua última nota é:\n\n{{ultimaNota}}",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a38fc95f-4052-489d-b257-c7b58e789ae2",
                "type": "text/plain",
                "content": "O número da sua última nota é:\n\n{{ultimaNota}}"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "2cc54f64-74c2-4f75-9b33-92cb996a40a0",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "34b87985-d15b-4809-8951-e4b4b2f80ef5",
          "typeOfStateId": "state",
          "$connId": "con_363",
          "$id": "7df10b8e-b351-46cc-8c8f-3848a2a43cf2",
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "888eff8f-9005-4099-96a0-4e5286a7eb01",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-7d06f3ec-baff-4a44-815e-0961bf45343a",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "05ca2bef-2224-4563-a175-e24e5b5bc3da",
      "root": false,
      "$title": "Enviar número da última nota [Duplicate]",
      "$position": {
        "top": "2331.67px",
        "left": "5847px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "19ab5d8b-2c85-4123-ac6c-261ca80716ba": {
      "$contentActions": [
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "2cc54f64-74c2-4f75-9b33-92cb996a40a0",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "05ca2bef-2224-4563-a175-e24e5b5bc3da",
          "typeOfStateId": "state",
          "$connId": "con_368",
          "$id": "aa960ee4-8e83-4621-a3c6-956ba4f62e81",
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "values": [
                "erro"
              ],
              "variable": "corpoRequisicao"
            },
            {
              "values": [
                "Número"
              ],
              "source": "context",
              "comparison": "equals",
              "variable": "opcaoNotaFiscal"
            },
            {
              "values": [
                "falha"
              ],
              "source": "context",
              "comparison": "notEquals",
              "variable": "ultimaNota"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "03cfc8c8-91a9-4742-a515-ceadc6b64341",
          "typeOfStateId": "state",
          "$connId": "con_373",
          "$id": "ae151de5-0b58-44ba-a85d-0cecf0f91a29",
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "values": [
                "erro"
              ],
              "variable": "corpoRequisicao"
            },
            {
              "values": [
                "PDF"
              ],
              "source": "context",
              "comparison": "equals",
              "variable": "opcaoNotaFiscal"
            },
            {
              "values": [
                "falha"
              ],
              "source": "context",
              "comparison": "notEquals",
              "variable": "opcoesNF"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "684eb974-8b6b-4c38-a910-00af02f0a8ec",
          "typeOfStateId": "state",
          "$connId": "con_378",
          "$id": "5505d6b6-039b-44dc-b6a0-02c0a82fae52",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "erro"
              ],
              "variable": "corpoRequisicao"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "684eb974-8b6b-4c38-a910-00af02f0a8ec",
          "typeOfStateId": "state",
          "$connId": "con_383",
          "$id": "bfe46ce1-b58f-4f8f-93e9-390210f86a81",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "falha"
              ],
              "variable": "ultimaNota"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "684eb974-8b6b-4c38-a910-00af02f0a8ec",
          "typeOfStateId": "state",
          "$connId": "con_388",
          "$id": "d53e0526-f46d-46d7-a1b9-fc782fc79209",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "falha"
              ],
              "variable": "opcoesNF"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "27d32b85-9e99-4fb5-b09c-de5873d6e6f1",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "define Corpo da Requisição",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputInfo) {\n\tinputInfo = JSON.parse(inputInfo);\n\tfiltro = inputInfo.inputMatch;\n\ttry {\n\t\t// Data atual\n\t\tlet dataAtual = new Date();\n\n\t\t// Variável para armazenar a data anterior\n\t\tlet dataAnterior = new Date();\n\n\t\t// Verificar o valor do filtro\n\t\tif (filtro === '15' || filtro === '30' || filtro === '90') {\n\t\t\t// Se o filtro for 15, 30 ou 90, subtrai o número de dias correspondente\n\t\t\tdataAnterior.setDate(dataAnterior.getDate() - parseInt(filtro));\n\n\t\t\t// Formatação das datas\n\t\t\tlet dataAtualFormatada = `${dataAtual.getFullYear()}-${('0' + (dataAtual.getMonth() + 1)).slice(-2)}-${('0' + dataAtual.getDate()).slice(-2)}`;\n\t\t\tlet dataAnteriorFormatada = `${dataAnterior.getFullYear()}-${('0' + (dataAnterior.getMonth() + 1)).slice(-2)}-${('0' + dataAnterior.getDate()).slice(-2)}`;\n\n\t\t\t// Se for 15, 30 ou 90, retorna o JSON com as datas\n\t\t\treturn {\n\t\t\t\t\"tipoOpe\": \"L\",\n\t\t\t\t\"idFiscal\": \"{{contact.taxDocument}}\",\n\t\t\t\t\"datDoc\": dataAnteriorFormatada,\n\t\t\t\t\"datDocFin\": dataAtualFormatada\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\t// Se for um número diferente, retorna o JSON sem as datas\n\t\t\treturn {\n\t\t\t\t\"tipoOpe\": \"L\",\n\t\t\t\t\"idFiscal\": \"{{contact.taxDocument}}\"\n\t\t\t};\n\t\t}\n\t} catch (error) {\n\t\t// Em caso de erro, retorna \"erro\"\n\t\treturn \"erro\";\n\t}\n}\n",
            "inputVariables": [
              "inputInfo"
            ],
            "outputVariable": "corpoRequisicao",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "cadf6c1e-b31b-459c-bf61-e8c6108f977a",
          "$typeOfContent": "",
          "type": "ProcessHttp",
          "$title": "Requisição HTTP - Busca Nota Fiscal",
          "$invalid": false,
          "settings": {
            "headers": {},
            "method": "POST",
            "uri": "{{resource.apiUnipac@url}}/api/notafiscal",
            "responseStatusVariable": "statusCodeNotaFiscal",
            "responseBodyVariable": "responseNotaFiscal",
            "body": "{{corpoRequisicao}}"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "2277ec3d-f7f2-4876-905d-31bc6dbbde92",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Contabiliza requisição nome com sucesso",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Busca Nota Fiscal",
            "action": "Sucesso"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "statusCodeNotaFiscal",
              "values": [
                "200"
              ]
            }
          ]
        },
        {
          "$id": "521d3da9-57a8-4ad1-a6ad-bce54493dcdd",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Contabiliza requisição nome com falha",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Busca Nota Fiscal",
            "action": "Falha"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "variable": "statusCodeNotaFiscal",
              "values": [
                "200"
              ]
            }
          ]
        },
        {
          "$id": "eabac9dd-4a8f-44ad-bdf8-8810944ad730",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define Última nota fiscal",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(response) {\n    try {\n        const data = JSON.parse(response);\n        // Verificar se 'danfe' existe, é um array, e tem o primeiro elemento com 'numDoc'\n        if (Array.isArray(data.danfe) && data.danfe.length > 0 && data.danfe[0].numDoc) {\n            return data.danfe[0].numDoc;\n        }\n    } catch (error) {\n        // Nenhuma ação é necessária aqui, pois qualquer erro resultará em \"falha\"\n    }\n\n    return \"falha\"; // Retornar \"falha\" se não conseguir extrair 'numDoc'\n}",
            "inputVariables": [
              "responseNotaFiscal"
            ],
            "outputVariable": "ultimaNota",
            "LocalTimeZoneEnabled": false
          },
          "conditions": [
            {
              "values": [
                "Número"
              ],
              "source": "context",
              "comparison": "equals",
              "variable": "opcaoNotaFiscal"
            }
          ]
        },
        {
          "$id": "2e727e40-e1c6-407d-a5c8-b6d42dfba6e6",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define opcoes de NF",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(response) {\n    try {\n        const data = JSON.parse(response);\n        if (Array.isArray(data.danfe) && data.danfe.length > 0) {\n            const sortedDanfe = data.danfe.sort((a, b) => new Date(b.datDoc) - new Date(a.datDoc));\n\n            const options = sortedDanfe.slice(0, 10).map(doc => {\n                // Converter a data de 'datDoc' de 'aaaa-mm-dd' para 'dd-mm-aaaa'\n                const formattedDate = doc.datDoc.split('-').reverse().join('/');\n\n                return {\n                    value: `NF ${doc.numDoc}`,\n                    match: [`NF ${doc.numDoc}`],\n                    description: `Vencimento: ${formattedDate}`,  // Data formatada\n                    objref: doc\n                };\n            });\n\n            return options;\n        }\n    } catch (error) {\n        // Em caso de erro\n    }\n\n    return \"falha\"; // Retorna \"falha\" se não for possível processar\n}",
            "inputVariables": [
              "responseNotaFiscal"
            ],
            "outputVariable": "opcoesNF",
            "LocalTimeZoneEnabled": false
          },
          "conditions": [
            {
              "values": [
                "PDF"
              ],
              "source": "context",
              "comparison": "equals",
              "variable": "opcaoNotaFiscal"
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-8de7e601-3c47-4346-be63-94fe5bdae247",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-91888ff5-a1bb-44f1-9657-013a27f85c4b",
          "label": "ProcessHttp",
          "background": "#7762E3",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-a70ccf4c-c3b2-4f8f-91af-54b68b38c514",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        }
      ],
      "id": "19ab5d8b-2c85-4123-ac6c-261ca80716ba",
      "root": false,
      "$title": "Busca Nota Fiscal",
      "$position": {
        "top": "2193.33px",
        "left": "6123.67px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "e1bc35cb-8d92-46d1-a888-8dc705a6453f": {
      "$contentActions": [
        {
          "action": {
            "$id": "7116ae07-f706-4a5e-82db-e8ec484ce61b",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "b16de986-a144-4b8c-ae97-e70f7faab58c",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "b16de986-a144-4b8c-ae97-e70f7faab58c",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "038c96c2-926b-48cc-a792-1726215afd54",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "5418c024-ddfc-4dc9-8692-90f060bd63fb",
              "type": "text/plain",
              "content": "Não consegui validar seu CNPJ ou CPF, vamos tentar novamente.",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "5418c024-ddfc-4dc9-8692-90f060bd63fb",
                "type": "text/plain",
                "content": "Não consegui validar seu CNPJ ou CPF, vamos tentar novamente."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "2106523f-7e78-4e70-b123-5dddd5b86e76",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "c4874064-d909-4207-806b-a5d682c4b96e",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "c4874064-d909-4207-806b-a5d682c4b96e",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "2fe7f37a-f845-4524-a8d7-4427411e1d8a",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "f085f7c5-f693-4224-b190-ffa9cd34fc42",
              "type": "text/plain",
              "content": "Por favor, digite seu CNPJ ou CPF",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "f085f7c5-f693-4224-b190-ffa9cd34fc42",
                "type": "text/plain",
                "content": "Por favor, digite seu CNPJ ou CPF"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "f616de70-89e5-45eb-bc92-976974a3a9e1",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "63586e6f-9792-4dbd-8778-da43e68c82cb",
          "typeOfStateId": "state",
          "$connId": "con_393",
          "$id": "27f9dfff-2926-4507-bdfb-b48b8dd2015c",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "true"
              ],
              "variable": "validateInput@validate"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "b7aef724-e7ad-40a3-8c53-1e2b6256d7e2",
          "typeOfStateId": "state",
          "$connId": "con_398",
          "$id": "da09439b-7ba0-4ba1-a688-287a28278cb0",
          "conditions": [
            {
              "source": "context",
              "comparison": "notEquals",
              "values": [
                "true"
              ],
              "variable": "validateInput@validate"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "806f3588-be3f-429d-b69b-738751d19fb5",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "68cb5089-d248-4bd0-bf0d-427a953057bc",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Valida um formato de dado usando o common regex",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(input){\n    // ************************************************************************************************* //\n    // * tipos disponíveis:                                                                            * //\n    // * Command                                                                                       * //\n    // * CPF                                                                                           * //\n    // * CNPJ                                                                                          * //\n    // * Phone number                                                                                  * //\n    // * Email                                                                                         * //\n    // * Date BR                                                                                       * //\n    // * Date ISO                                                                                      * //\n    // * Name                                                                                          * //\n    // * Car plate                                                                                     * //\n    // *                                                                                               * //\n    // * Você pode encontrar mais tipos de regex em Coteúdos > Recursos > common_regex no bot roteador * //\n    // ************************************************************************************************* //\n    return common_regex('CPF/CNPJ', input);\n}\n\n{{resource.commonRegex}}",
            "inputVariables": [
              "input.content"
            ],
            "outputVariable": "validateInput",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "95d2e8c3-0f90-4be7-8fc6-0ccae354120e",
          "$typeOfContent": "",
          "type": "MergeContact",
          "$title": "Definir contato (CPF/CNPJ)",
          "$invalid": false,
          "settings": {
            "extras": {},
            "taxDocument": "{{validateInput@normalizedInput}}"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "validateInput@validate",
              "values": [
                "true"
              ]
            }
          ]
        },
        {
          "$id": "effdd7d9-45b0-4457-bd34-f671606ae984",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Coleta de dados | Falha",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Coleta de dados | Falha",
            "action": "{{validateInput@expectedType}} | {{validateInput@input}}"
          },
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "variable": "validateInput@validate",
              "values": [
                "false"
              ]
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-58316270-a671-41b1-99bc-fa4087b00e9f",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-c1bf1068-c633-4990-ade4-9549f1375e4e",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-63965d77-7a30-4c63-a94b-3a6db8d8d3a1",
          "label": "MergeContact",
          "background": "#FF1E90",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-75da6ab8-5255-4400-981b-38b434e0a632",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-0dced612-e6dd-49f5-8f31-8d64f51894ef",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "e1bc35cb-8d92-46d1-a888-8dc705a6453f",
      "root": false,
      "$title": "Coleta CPF/CNPJ [Confirmação]",
      "$position": {
        "top": "1736.86px",
        "left": "3307px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "b7aef724-e7ad-40a3-8c53-1e2b6256d7e2": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Certo... ainda não consegui validar, então vou te transferir para nosso time, em breve eles irão atendê-lo(a)",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Certo... ainda não consegui validar, então vou te transferir para nosso time, em breve eles irão atendê-lo(a)"
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"Novos Clientes\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-61ad08da-02fb-4983-a9be-653c2f9dcf9c",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-babf4483-3f25-4ca8-a706-879d5bbc0f69",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "b7aef724-e7ad-40a3-8c53-1e2b6256d7e2",
      "root": false,
      "$title": "To Help Desk [CPF / CNPJ inválidos]",
      "$position": {
        "top": "1737.24px",
        "left": "3094.06px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "974523af-5326-4cba-b6e7-d4af19ded2ea": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Favor informar os itens que deseja cotação que em breve nosso time irá atendê-lo (a).",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Favor informar os itens que deseja cotação que em breve nosso time irá atendê-lo (a)."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"Automotivo\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-c4df5377-4099-4ce2-9555-331a0614072b",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-f5972bf7-71e8-46a2-89ea-7a7053e3e45b",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "974523af-5326-4cba-b6e7-d4af19ded2ea",
      "root": false,
      "$title": "To Help Desk [Automotivo]",
      "$position": {
        "top": "1634px",
        "left": "2334px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "ce69643d-8149-4c94-9c64-53fda7860989": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Favor informar os itens que deseja cotação que em breve nosso time irá atendê-lo (a).",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Favor informar os itens que deseja cotação que em breve nosso time irá atendê-lo (a)."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"Logística Veículo Elétrico\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-a16e7191-51e0-4992-97cf-7bb74d1ea04d",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-128a45ed-9b76-4d2d-a78e-e7fcc8320e0d",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "ce69643d-8149-4c94-9c64-53fda7860989",
      "root": false,
      "$title": "To Help Desk [Veículo Elétrico]",
      "$position": {
        "top": "3221.43px",
        "left": "2871.57px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "7307d6f0-af85-4df0-ac08-3bced9446b8b": {
      "$contentActions": [
        {
          "action": {
            "$id": "6384095d-bfc8-4613-ba39-2edf7a6a843e",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "887580f9-9ec1-4233-ac0a-558e92de76bf",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "337dde9e-a7a8-444e-bd8e-b285f5e7bd92",
            "$typeOfContent": "raw-content",
            "type": "SendRawMessage",
            "settings": {
              "metadata": {},
              "type": "{{nameMenu@type}}",
              "rawContent": "{{nameMenuContent}}"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "953ef59c-ce5c-4219-a58f-1fa645482c8c",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "17a1d8ae-fe03-4aa7-8c2f-b337f11f23da",
          "typeOfStateId": "state",
          "$connId": "con_403",
          "$id": "e6ac0830-e6ad-46ef-a5c5-405f5d683b51",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Não"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        },
        {
          "stateId": "4bfc1c7c-26f1-4da3-88d6-5cc0b849d63d",
          "typeOfStateId": "state",
          "$connId": "con_408",
          "$id": "8c47d981-f47d-4e19-b832-719e36bc2474",
          "conditions": [
            {
              "source": "context",
              "comparison": "equals",
              "values": [
                "Sim"
              ],
              "variable": "inputInfo@value"
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [
        {
          "$id": "e5d03faa-b9f6-40cb-b0a1-19a5b838b350",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Name Menu - conteúdo dinâmico",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(platform){\n    /*******************************************************************************************************\\\n     * Todas as plataformas                                                                                *\n    \\*******************************************************************************************************/\n    var texto =\n    \"Você deseja falar com um atendente?\";\n    var opcoes = [\n        {\n            \"value\": \"Sim\",\n            \"match\": ['sim', 'desej'],\n            \"description\": \"\"\n        },\n        {\n            \"value\": \"Não\",\n            \"match\": ['nao'],\n            \"description\": \"\"\n        }\n    ];\n\n    /*******************************************************************************************************\\\n     * Exclusivo textMenu = true                                                                           *\n    \\*******************************************************************************************************/\n    var textMenu = false; // true -> (Exibe o menu como texto sempre), false -> (exibe normalmente como botões/lista)\n    var textExplain = `Digite o número correspondente a sua opção.`;\n    var textExplainButton = `Se preferir, pode clicar no botão abaixo e retornar ao menu principal.`;\n    var textExplainButtonOptions = ['#menu'];\n\n    /*******************************************************************************************************\\\n     * Exclusivo Whatsapp                                                                                  *\n    \\*******************************************************************************************************/\n    /*************************************************************************\\\n     * O Whatsapp contém as seguintes limitações na implmentação dos menus:  *\n     * - Máx. de 60 caracteres para o header e o footer                      *\n     * - Máx. de 1024 caracteres para o texto(body) da pergunta              *\n     *  -------------------------------------------------------------------  *\n     * Limitações do Button Menu:                                            *\n     * - Máx. de 3 itens(botões) por pergunta                                *\n     * - Máx. de 20 caracteres para o texto do botão                         *\n     * Limitações do List Menu:                                              *\n     * - Máx. de 10 itens(opções) por lista                                  *\n     * - Máx. de 24 caracteres para a opção da lista                         *\n     * - Máx. de 72 caracteres para a descrição da opção                     *\n    \\*************************************************************************/\n    var expectedMenuType = 'automatic'; // automatic(button menu, se opcoesWhatsApp <= 3, ou list menu, se opcoesWhatsApp > 3), list ou button, text_menu\n    var opcoesWhatsApp = opcoes;\n    var textExplainButtonOptionsWhatsApp = textExplainButtonOptions;\n\n\n    /***                                                                                                          ***\n     * --------------- NÃO ALTERE NADA A PARTIR DESSE PONTO, A MENOS QUE SAIBA O QUE ESTÁ FAZENDO ----------------- *\n     ***                                                                                                          ***/\n\n    let param = {\n        platform,\n        texto,\n        opcoes,\n        opcoesWhatsApp,\n        textExplain,\n        textExplainButton,\n        textExplainButtonOptions,\n        textExplainButtonOptionsWhatsApp,\n    };\n    let config = {\n        textMenu,\n        expectedMenuType\n    };\n        \n    let dynamicContent = application_menu(param, config);\n\n    return dynamicContent;\n}\n\n/*******************************************************************************************************\\\n * Funções auxiliares                                                                                  *\n\\*******************************************************************************************************/\n{{resource.applicationMenu}}",
            "inputVariables": [
              "platform"
            ],
            "outputVariable": "nameMenu",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "adb444e5-8511-4fe1-a584-78785dfe2b4f",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Unescape string no obj",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "// Execução necessária pra evitar bug com o '\\n' no Blip\nfunction run(contentObj){\n    contentObj = JSON.parse(contentObj);\n    return contentObj.content; //Se content for um obj '\\n' será escapado, senão não\n}",
            "inputVariables": [
              "nameMenu"
            ],
            "outputVariable": "nameMenuContent",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "7df56163-3949-4fe7-956e-d04181839284",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Exibicao do menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Exibicao | {{state.name}}",
            "action": "Quantidade"
          },
          "conditions": []
        }
      ],
      "$leavingCustomActions": [
        {
          "$id": "449121c4-a015-47d6-8ad9-d603441e935b",
          "$typeOfContent": "",
          "type": "ExecuteScript",
          "$title": "Define inputInfo",
          "$invalid": false,
          "settings": {
            "function": "run",
            "source": "function run(inputContent, inputType, unexpectedInput, menu){\r\n    return get_input_info(inputContent, inputType, unexpectedInput, menu);\r\n}\r\n\r\n{{resource.validateInputOptions}}",
            "inputVariables": [
              "input.content",
              "input.type",
              "resource.unexpectedInput",
              "nameMenu"
            ],
            "outputVariable": "inputInfo",
            "LocalTimeZoneEnabled": false
          },
          "conditions": []
        },
        {
          "$id": "b9c84aa2-3c42-4ce9-9223-4827b45cf895",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Selecao Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Selecao | {{state.name}}",
            "action": "{{inputInfo@value}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        },
        {
          "$id": "9d1f1d20-2431-4f97-ac28-5e04fa8388c7",
          "$typeOfContent": "",
          "type": "TrackEvent",
          "$title": "Resposta Menu",
          "$invalid": false,
          "settings": {
            "extras": {},
            "category": "Resposta | {{state.name}}",
            "action": "{{inputInfo@input}}"
          },
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ]
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-8e478dfd-0b73-4a87-b937-3accb67d1062",
          "label": "ExecuteScript",
          "background": "#FF961E",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-ffcb7fc5-52b1-4cec-8fb7-bf963e791e78",
          "label": "TrackEvent",
          "background": "#61D36F",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-ea08a52d-cd00-43f3-bf0b-4692e4b2c982",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-8c41a14a-da22-4076-b06a-1f2a3c50b579",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "7307d6f0-af85-4df0-ac08-3bced9446b8b",
      "root": false,
      "$title": "Sugestões Reclamações",
      "$position": {
        "top": "986px",
        "left": "6534px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "17a1d8ae-fe03-4aa7-8c2f-b337f11f23da": {
      "$contentActions": [
        {
          "action": {
            "$id": "0bfc6de4-c31c-43c6-81d2-976574c991d0",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "92ced0b3-93db-45f0-997a-68f8f4d51ebc",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "92ced0b3-93db-45f0-997a-68f8f4d51ebc",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "b05410a0-c14f-4662-ac1e-059225ac2996",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "d6c90bed-df5b-4cb7-be9b-b51158f8e1d3",
              "type": "text/plain",
              "content": "A Unipac agradece seu contato.🍀\nCaso necessite de mais informações estamos a disposição para atendê-lo (a).",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "d6c90bed-df5b-4cb7-be9b-b51158f8e1d3",
                "type": "text/plain",
                "content": "A Unipac agradece seu contato.🍀\nCaso necessite de mais informações estamos a disposição para atendê-lo (a)."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "332879ab-f0a2-4f65-82be-98e005292ec6",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "81dea4d9-8787-41d7-a3a2-14a7ce1c07f4",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona a Exceptions",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"content\": \"#sair\",\n    \"type\": \"text/plain\"\n}"
            },
            "address": "{{resource.globalConfig@serviceExceptions}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false
      },
      "$tags": [
        {
          "id": "blip-tag-6b9e3992-da5a-42b0-b3cf-0d56219328ec",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-6e7d7f22-eb61-4071-ba09-5224449f8f20",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "17a1d8ae-fe03-4aa7-8c2f-b337f11f23da",
      "root": false,
      "$title": "G.4.0 - Encerrar conversa [Duplicate]",
      "$position": {
        "top": "1198px",
        "left": "6728px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    },
    "4f8ca191-8516-457a-8bdf-bbd26ecf9d21": {
      "$contentActions": [
        {
          "action": {
            "$id": "4164c097-b411-4e21-9e00-1f55a8a165ab",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "0c554d95-97a5-43fd-9a4b-b05f6b7599f8",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "0c554d95-97a5-43fd-9a4b-b05f6b7599f8",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "6b4bbee5-1163-492d-abe1-5b10ec62016c",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "ae4b94bb-3066-4eca-86cf-4597963c289e",
              "type": "text/plain",
              "content": "Sua opinião é muito importante para nós, escreva em um único texto suas sugestões e reclamações.",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "ae4b94bb-3066-4eca-86cf-4597963c289e",
                "type": "text/plain",
                "content": "Sua opinião é muito importante para nós, escreva em um único texto suas sugestões e reclamações."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": false,
            "$cardContent": {
              "document": {
                "id": "c91e7130-a795-42a4-9db6-2082938df68f",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false,
            "expiration": "22:40"
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [
        {
          "stateId": "7307d6f0-af85-4df0-ac08-3bced9446b8b",
          "typeOfStateId": "state",
          "$connId": "con_413",
          "$id": "f3be8ee6-dc2b-4fcf-abe3-98b2b4d16dba",
          "conditions": [
            {
              "source": "input",
              "comparison": "exists",
              "values": []
            }
          ],
          "$invalid": false
        }
      ],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "fallback",
        "$invalid": false
      },
      "isAiGenerated": false,
      "$tags": [
        {
          "id": "blip-tag-14b189ed-d21c-4e5f-829d-9692b1c8f0bb",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-f075ee18-6270-436d-97dc-d415ac26eee8",
          "label": "UserInput",
          "background": "#000000",
          "canChangeBackground": false
        }
      ],
      "id": "4f8ca191-8516-457a-8bdf-bbd26ecf9d21",
      "root": false,
      "$title": "Opinião",
      "$position": {
        "top": "989.75px",
        "left": "6196.25px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false
    },
    "15882611-5da6-4997-85ef-50536aeb9e6d": {
      "$contentActions": [
        {
          "action": {
            "$id": "6340918e-3d4b-4eca-9d7a-0a5af20009ff",
            "$typeOfContent": "chat-state",
            "type": "SendMessage",
            "settings": {
              "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
              "type": "application/vnd.lime.chatstate+json",
              "content": {
                "state": "composing",
                "interval": 1000
              }
            },
            "$cardContent": {
              "document": {
                "id": "ed3370a5-9d64-4017-99b9-c9de48308567",
                "type": "application/vnd.lime.chatstate+json",
                "content": {
                  "state": "composing",
                  "interval": 1000
                }
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "action": {
            "$id": "c338ac95-0469-462a-a92d-bf2cf0abb364",
            "$typeOfContent": "text",
            "type": "SendMessage",
            "settings": {
              "id": "a182920b-b36e-4fca-8785-82076a6500bf",
              "type": "text/plain",
              "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a).",
              "metadata": {}
            },
            "$cardContent": {
              "document": {
                "id": "a182920b-b36e-4fca-8785-82076a6500bf",
                "type": "text/plain",
                "content": "Agradecemos as confirmações.\nEm breve nosso time irá atendê-lo (a)."
              },
              "editable": true,
              "deletable": true,
              "position": "left"
            }
          },
          "$invalid": false
        },
        {
          "input": {
            "bypass": true,
            "$cardContent": {
              "document": {
                "id": "0880721a-dd7d-4724-ad77-ed0e3af063c2",
                "type": "text/plain",
                "textContent": "Entrada do usuário",
                "content": "Entrada do usuário"
              },
              "editable": false,
              "deletable": true,
              "position": "right",
              "editing": false
            },
            "$invalid": false
          },
          "$invalid": false
        }
      ],
      "$conditionOutputs": [],
      "$enteringCustomActions": [],
      "$leavingCustomActions": [
        {
          "$id": "02ba9626-7816-470f-8277-2215686a1fd0",
          "$typeOfContent": "",
          "type": "Redirect",
          "$title": "Redireciona ao Help Desk",
          "$invalid": false,
          "settings": {
            "context": {
              "type": "text/plain",
              "value": "{\n    \"team\": [\"Geral\"]\n}"
            },
            "address": "{{resource.globalConfig@serviceHelpDesk}}"
          },
          "conditions": []
        }
      ],
      "$inputSuggestions": [],
      "$defaultOutput": {
        "stateId": "onboarding",
        "$invalid": false,
        "typeOfStateId": "state"
      },
      "$tags": [
        {
          "id": "blip-tag-518a8728-0aad-4091-a94e-06a96fbadcf3",
          "label": "Redirect",
          "background": "#1EA1FF",
          "canChangeBackground": false
        },
        {
          "id": "blip-tag-a7402e29-1c29-4a69-a6ad-e01e215dc296",
          "label": "SendMessage",
          "background": "#EE82EE",
          "canChangeBackground": false
        }
      ],
      "id": "15882611-5da6-4997-85ef-50536aeb9e6d",
      "root": false,
      "$title": "To Help Desk [fila Geral]",
      "$position": {
        "top": "2311.71px",
        "left": "3491.14px"
      },
      "$invalidContentActions": false,
      "$invalidOutputs": false,
      "$invalidCustomActions": false,
      "$invalid": false,
      "isAiGenerated": false
    }
  },
  "method": "get",
  "status": "success",
  "id": "{{$guid}}",
  "from": "postmaster@resources.msging.net/#msging-application-resources-58d5b5f89f-slmh2",
  "to": "unipacmain@msging.net/!msging-server-h7flt-wr0kvzw5",
  "metadata": {
    "traceparent": "00-ada9bbef113e709305ec7d02e4079dae-edbfd3739e7a37ea-01",
    "#command.uri": "lime://unipacmain@msging.net/buckets/blip_portal:builder_working_flow"
  }
}